let e=document.createElement("style");e.innerHTML=".vben-app-search-footer[data-v-6f0c7c50]{position:relative;display:flex;height:44px;padding:0 16px;font-size:12px;color:#666;background:#fff;border-radius:0 0 8px 8px;box-shadow:0 -1px 0 0 #e0e3e8,0 -3px 6px 0 rgba(69,98,155,.12);align-items:center;flex-shrink:0}.vben-app-search-footer__item[data-v-6f0c7c50]{display:flex;width:20px;height:18px;padding-bottom:2px;margin-right:.4em;background:linear-gradient(-225deg,#d5dbe4,#f8f8f8);border-radius:2px;box-shadow:inset 0 -2px 0 0 #cdcde6,inset 0 0 1px 1px #fff,0 1px 2px 1px rgba(30,35,90,.4);align-items:center;justify-content:center}.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(2),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(3),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(6){margin-left:14px}.vben-app-search-modal[data-v-536506ef]{position:fixed;top:0;left:0;z-index:800;display:flex;width:100%;height:100%;padding-top:50px;background:rgba(0,0,0,.8);justify-content:center}.vben-app-search-modal--mobile[data-v-536506ef]{padding:0}.vben-app-search-modal--mobile>div[data-v-536506ef]{width:100%}.vben-app-search-modal--mobile .vben-app-search-modal-input[data-v-536506ef]{width:calc(100% - 38px)}.vben-app-search-modal--mobile .vben-app-search-modal-cancel[data-v-536506ef]{display:inline-block}.vben-app-search-modal--mobile .vben-app-search-modal-content[data-v-536506ef]{width:100%;height:100%;border-radius:0}.vben-app-search-modal--mobile .vben-app-search-footer[data-v-536506ef]{display:none}.vben-app-search-modal--mobile .vben-app-search-modal-list[data-v-536506ef]{height:calc(100% - 80px);max-height:unset}.vben-app-search-modal--mobile .vben-app-search-modal-list__item-enter[data-v-536506ef]{opacity:0!important}.vben-app-search-modal-content[data-v-536506ef]{position:relative;width:532px;margin:0 auto auto;background:#f5f6f7;border-radius:6px;box-shadow:inset 1px 1px 0 0 hsla(0,0%,100%,.5),0 3px 8px 0 #555a64;flex-direction:column}.vben-app-search-modal-input__wrapper[data-v-536506ef]{display:flex;padding:14px 14px 0;justify-content:space-between;align-items:center}.vben-app-search-modal-input[data-v-536506ef]{width:100%;height:56px;font-size:1.5em;color:#1c1e21}.vben-app-search-modal-input span[role=img][data-v-536506ef]{color:#999}.vben-app-search-modal-cancel[data-v-536506ef]{display:none;font-size:1em;color:#666}.vben-app-search-modal-not-data[data-v-536506ef]{display:flex;width:100%;height:100px;font-size:.9;color:#969faf;align-items:center;justify-content:center}.vben-app-search-modal-list[data-v-536506ef]{max-height:472px;padding:0 14px 20px;margin:14px auto 0;overflow:auto}.vben-app-search-modal-list__item[data-v-536506ef]{position:relative;display:flex;width:100%;height:56px;padding-bottom:4px;padding-left:14px;margin-top:8px;font-size:14px;color:rgba(0,0,0,.85);cursor:pointer;background:#fff;border-radius:4px;box-shadow:0 1px 3px 0 #d4d9e1;align-items:center}.vben-app-search-modal-list__item--active[data-v-536506ef]{color:#fff;background:#018ffb}.vben-app-search-modal-list__item--active .vben-app-search-modal-list__item-enter[data-v-536506ef]{opacity:1}.vben-app-search-modal-list__item-icon[data-v-536506ef]{width:30px}.vben-app-search-modal-list__item-text[data-v-536506ef]{flex:1}.vben-app-search-modal-list__item-enter[data-v-536506ef]{width:30px;opacity:0}.vben-app-search[data-v-5d90d834]{padding:2px}",document.head.appendChild(e);import{k as a,v as t,cB as n,r as o,bi as s,u as i,aQ as r,cT as l,cU as c,cV as p,bf as d,f as h,b7 as f,X as u,a as m,au as v,i as x,o as b,j as g,n as _,aS as C,s as w,cW as y,aI as S,aJ as k,ad as $,aH as j,m as O,aN as E,bc as M,p as A}from"./index.5d3f6cb5.js";import"./xlsx.a48e520c.js";import"./Trigger.0d1e9c99.js";import{T as I}from"./index.9250ace7.js";import"./animation.cbaf969b.js";import{u as N}from"./useScrollTo.e7559bfd.js";import{s as z}from"./index.a0a60a24.js";import{b as T,u as R,d as D}from"./useHeaderSetting.9a31a69c.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function H(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var W,L,B=function(e,o){var s=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){H(e,a,t[a])}))}return e}({},e,o.attrs);return a(n,t(s,{icon:P}),null)};function F(e,a,t){const n=o([]),s=o(""),m=o(-1);let v=[];const{t:x}=i(),b=u(),[g]=r((function(e){null==e||e.stopPropagation();const a=e.target.value;if(s.value=a.trim(),!a)return void(n.value=[]);const t=function(e){const a=["",...[...e].map((e=>{return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(a=e)?`\\${a}`:a;var a})),""].join(".*");return new RegExp(a)}(h(s)),o=f(v,(e=>t.test(e.name)));n.value=_(o,t),m.value=0}),200);function _(e,a,t){const n=[];return e.forEach((e=>{const{name:o,path:s,icon:i,children:r}=e;a.test(o)&&!(null==r?void 0:r.length)&&n.push({name:(null==t?void 0:t.name)?`${t.name} > ${o}`:o,path:s,icon:i}),Array.isArray(r)&&r.length&&n.push(..._(r,a,e))})),n}function C(){const t=h(e);if(!t||!Array.isArray(t)||0===t.length||!h(a))return;const n=t[h(m)];if(!n)return;const o=h(a);if(!o)return;const s=n.offsetTop+n.offsetHeight,i=o.offsetHeight,{start:r}=N({el:o,duration:100,to:s-i});r()}function w(){if(!n.value.length)return;const e=h(n),a=h(m);if(0===e.length||a<0)return;const t=e[a];y(),b(t.path)}function y(){t("close")}function S(e){switch(window.event?e.keyCode:e.which){case 38:n.value.length&&(m.value--,m.value<0&&(m.value=n.value.length-1),C());break;case 40:n.value.length&&(m.value++,m.value>n.value.length-1&&(m.value=0),C());break;case 13:w();break;case 27:y()}}return l((async()=>{const e=await T();v=c(e),p(v,(e=>{e.name=x(e.name)})),document.addEventListener("keydown",S)})),d((()=>{document.removeEventListener("keydown",S)})),{handleSearch:g,searchResult:n,keyword:s,activeIndex:m,handleMouseenter:function(e){const a=e.target.dataset.index;m.value=Number(a)},handleEnter:w}}B.displayName="SearchOutlined",B.inheritAttrs=!1,(L=W||(W={}))[L.UP=38]="UP",L[L.DOWN=40]="DOWN",L[L.ENTER=13]="ENTER",L[L.ESC=27]="ESC";var U=m({name:"AppSearchFooter",components:{},setup(){const{prefixCls:e}=v("app-search-footer"),{t:a}=i();return{prefixCls:e,t:a}}});const J=C("data-v-6f0c7c50")(((e,t,n,o,s,i)=>{const r=x("g-icon");return b(),g("div",{class:`${e.prefixCls}`},[a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"ant-design:enter-outlined"})],2),a("span",null,_(e.t("component.app.toSearch")),1),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"bi:arrow-up"})],2),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"bi:arrow-down"})],2),a("span",null,_(e.t("component.app.toNavigate")),1),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"mdi:keyboard-esc"})],2),a("span",null,_(e.t("component.app.toClose")),1)],2)}));U.render=J,U.__scopeId="data-v-6f0c7c50";var Q=m({name:"AppSearchModal",components:{SearchOutlined:B,ClickOutSide:z,AppSearchFooter:U},emits:["close"],props:{visible:Boolean},setup(e,{emit:a}){const t=o(null),{prefixCls:n}=v("app-search-modal"),{t:r}=i(),[l,c]=function(){const e=o([]);return s((()=>{e.value=[]})),[e,a=>t=>{e.value[a]=t}]}(),{getIsMobile:p}=R(),{handleSearch:d,searchResult:f,keyword:u,activeIndex:m,handleEnter:x,handleMouseenter:b}=F(l,t,a),g=w((()=>!u||0===h(f).length)),_=w((()=>[n,{[`${n}--mobile`]:h(p)}]));return{t:r,prefixCls:n,getClass:_,handleSearch:d,searchResult:f,activeIndex:m,getIsNotData:g,handleEnter:x,setRefs:c,scrollWrap:t,handleMouseenter:b,handleClose:()=>{a("close")}}}});const V=C("data-v-536506ef"),X=V(((e,t,n,o,s,i)=>{const r=x("SearchOutlined"),l=x("a-input"),c=x("g-icon"),p=x("AppSearchFooter"),d=x("ClickOutSide");return b(),g(M,{to:"body"},[a(E,{name:"zoom-fade",mode:"out-in"},{default:V((()=>[e.visible?(b(),g("div",{key:0,class:e.getClass,onClick:t[4]||(t[4]=y((()=>{}),["stop"]))},[a(d,{onClickOutside:e.handleClose},{default:V((()=>[a("div",{class:`${e.prefixCls}-content`},[a("div",{class:`${e.prefixCls}-input__wrapper`},[a(l,{class:`${e.prefixCls}-input`,placeholder:e.t("component.app.search"),"allow-clear":"",onChange:e.handleSearch},{prefix:V((()=>[a(r)])),_:1},8,["class","placeholder","onChange"]),a("span",{class:`${e.prefixCls}-cancel`,onClick:t[1]||(t[1]=(...a)=>e.handleClose&&e.handleClose(...a))},_(e.t("component.app.cancel")),3)],2),S(a("div",{class:`${e.prefixCls}-not-data`},_(e.t("component.app.searchNotData")),3),[[k,e.getIsNotData]]),S(a("ul",{class:`${e.prefixCls}-list`,ref:"scrollWrap"},[(b(!0),g($,null,j(e.searchResult,((n,o)=>(b(),g("li",{ref:e.setRefs(o),key:n.path,"data-index":o,onMouseenter:t[2]||(t[2]=(...a)=>e.handleMouseenter&&e.handleMouseenter(...a)),onClick:t[3]||(t[3]=(...a)=>e.handleEnter&&e.handleEnter(...a)),class:[`${e.prefixCls}-list__item`,{[`${e.prefixCls}-list__item--active`]:e.activeIndex===o}]},[a("div",{class:`${e.prefixCls}-list__item-icon`},[a(c,{icon:n.icon||"mdi:form-select",size:20},null,8,["icon"])],2),a("div",{class:`${e.prefixCls}-list__item-text`},_(n.name),3),a("div",{class:`${e.prefixCls}-list__item-enter`},[a(c,{icon:"ant-design:enter-outlined",size:20})],2)],42,["data-index"])))),128))],2),[[k,!e.getIsNotData]]),a(p)],2)])),_:1},8,["onClickOutside"])],2)):O("v-if",!0)])),_:1})])}));Q.render=X,Q.__scopeId="data-v-536506ef";var q=m({name:"AppSearch",components:{AppSearchModal:Q,Tooltip:I,SearchOutlined:B},setup(){const e=o(!1),{prefixCls:a}=v("app-search"),{getShowSearch:t}=D(),{t:n}=i();return{t:n,prefixCls:a,showModal:e,getShowSearch:t,handleClose:()=>{e.value=!1},handleSearch:function(){e.value=!0}}}});const G=C("data-v-5d90d834"),K=G(((e,t,n,o,s,i)=>{const r=x("SearchOutlined"),l=x("Tooltip"),c=x("AppSearchModal");return e.getShowSearch?(b(),g("div",{key:0,class:e.prefixCls,onClick:t[1]||(t[1]=y(((...a)=>e.handleSearch&&e.handleSearch(...a)),["stop"]))},[a(l,null,{title:G((()=>[A(_(e.t("component.app.search")),1)])),default:G((()=>[a(r)])),_:1}),a(c,{onClose:e.handleClose,visible:e.showModal},null,8,["onClose","visible"])],2)):O("v-if",!0)}));q.render=K,q.__scopeId="data-v-5d90d834";export default q;