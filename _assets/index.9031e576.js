let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}",document.head.appendChild(t);import{a as e,r as i,b as r,s,f as l,dy as n,O as a,Q as o,F as m,R as h}from"./index.db24b8f1.js";import"./xlsx.a48e520c.js";import"./useDebounce.8dbcf364.js";import{u as c}from"./useEventListener.e8f38262.js";import{g as u}from"./tsxHelper.00e8ba63.js";var d=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const d=i(null),g=r({first:0,last:0,scrollTop:0}),p=s((()=>parseInt(t.bench,10))),f=s((()=>parseInt(t.itemHeight,10))),b=s((()=>Math.max(0,g.first-l(p)))),x=s((()=>Math.min((t.items||[]).length,g.last+l(p)))),v=s((()=>({height:n((t.items||[]).length*l(f))}))),y=s((()=>{const e={},i=n(t.height),r=n(t.minHeight),s=n(t.minWidth),l=n(t.maxHeight),a=n(t.maxWidth),o=n(t.width);return i&&(e.height=i),r&&(e.minHeight=r),s&&(e.minWidth=s),l&&(e.maxHeight=l),a&&(e.maxWidth=a),o&&(e.width=o),e}));function H(e){const i=l(d);if(!i)return 0;const r=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(r/l(f))}function S(){const t=l(d);t&&(g.scrollTop=t.scrollTop,g.first=Math.floor(g.scrollTop/l(f)),g.last=H(g.first))}function N(t,i){i+=l(b);const r=n(i*l(f));return h("div",{class:"virtual-scroll__item",style:{top:r},key:i},u(e,"default",{index:i,item:t}))}return a([()=>t.itemHeight,()=>t.height],(()=>{S()})),o((()=>{g.last=H(0),m((()=>{const t=l(d);t&&c({el:t,name:"scroll",listener:S,wait:0})}))})),()=>h("div",{class:"virtual-scroll",style:l(y),ref:d},h("div",{class:"virtual-scroll__container",style:l(v)},function(){const{items:e=[]}=t;return e.slice(l(b),l(x)).map(N)}()))}});export default d;