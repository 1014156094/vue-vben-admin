let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}",document.head.appendChild(t);import{a as e,r as i,b as r,s,f as l,dt as a,O as n,Q as o,F as m,R as c}from"./index.acbb87a5.js";import"./xlsx.a48e520c.js";import"./useDebounce.c071ec0c.js";import{u as h}from"./useEventListener.e7c114de.js";import{g as u}from"./tsxHelper.0159f1e5.js";var d=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const d=i(null),g=r({first:0,last:0,scrollTop:0}),p=s((()=>parseInt(t.bench,10))),f=s((()=>parseInt(t.itemHeight,10))),b=s((()=>Math.max(0,g.first-l(p)))),x=s((()=>Math.min((t.items||[]).length,g.last+l(p)))),v=s((()=>({height:a((t.items||[]).length*l(f))}))),H=s((()=>{const e={},i=a(t.height),r=a(t.minHeight),s=a(t.minWidth),l=a(t.maxHeight),n=a(t.maxWidth),o=a(t.width);return i&&(e.height=i),r&&(e.minHeight=r),s&&(e.minWidth=s),l&&(e.maxHeight=l),n&&(e.maxWidth=n),o&&(e.width=o),e}));function y(e){const i=l(d);if(!i)return 0;const r=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(r/l(f))}function S(){const t=l(d);t&&(g.scrollTop=t.scrollTop,g.first=Math.floor(g.scrollTop/l(f)),g.last=y(g.first))}function N(t,i){i+=l(b);const r=a(i*l(f));return c("div",{class:"virtual-scroll__item",style:{top:r},key:i},u(e,"default",{index:i,item:t}))}return n([()=>t.itemHeight,()=>t.height],(()=>{S()})),o((()=>{g.last=y(0),m((()=>{const t=l(d);t&&h({el:t,name:"scroll",listener:S,wait:0})}))})),()=>c("div",{class:"virtual-scroll",style:l(H),ref:d},c("div",{class:"virtual-scroll__container",style:l(v)},function(){const{items:e=[]}=t;return e.slice(l(b),l(x)).map(N)}()))}});export default d;