let e=document.createElement("style");e.innerHTML=".basic-drawer .ant-drawer-wrapper-body{overflow:hidden}.basic-drawer .ant-drawer-close:hover{color:#ed6f6f}.basic-drawer .ant-drawer-body{height:calc(100% - 40px);padding:0;background-color:#f0f2f5}.basic-drawer .ant-drawer-body .scrollbar__wrap{padding:16px}.basic-drawer__detail{position:absolute}.basic-drawer__detail-header{height:100%}.basic-drawer__detail .ant-drawer-header{width:100%;height:40px;padding:0;border-top:1px solid #f0f0f0;box-sizing:border-box}.basic-drawer__detail .ant-drawer-title{height:100%}.basic-drawer__detail .ant-drawer-close{height:40px;line-height:40px}.basic-drawer__detail .scrollbar__wrap{padding:0}.basic-drawer__footer{position:absolute;bottom:0;width:100%;height:60px;padding:0 26px;line-height:60px;text-align:right;background:#fff;border-top:1px solid #f0f0f0}",document.head.appendChild(e);import{u as t,q as o,a,r as i,s as r,d2 as l,f as s,t as n,cZ as d,ae as c,O as p,F as b,dv as f,R as u,ad as w,aP as g,cJ as h,B as x,bF as m,bE as v}from"./index.db24b8f1.js";import"./xlsx.a48e520c.js";import{D as _}from"./index.be994596.js";import{L as k}from"./LeftOutlined.be90356f.js";import{g as y}from"./tsxHelper.00e8ba63.js";import{a as C}from"./index.ac876ed0.js";const{t:B}=t(),F={confirmLoading:o.bool,showCancelBtn:o.bool.def(!0),cancelButtonProps:Object,cancelText:o.string.def(B("component.drawer.cancelText")),showOkBtn:o.bool.def(!0),okButtonProps:o.any,okText:o.string.def(B("component.drawer.okText")),okType:o.string.def("primary"),showFooter:o.bool,footerHeight:{type:[String,Number],default:60}},T={isDetail:o.bool,title:o.string.def(""),showDetailBack:o.bool.def(!0),visible:o.bool,loading:o.bool,maskClosable:o.bool.def(!0),getContainer:{type:[Object,String]},scrollOptions:{type:Object,default:null},closeFunc:{type:[Function,Object],default:null},triggerWindowResize:o.bool,destroyOnClose:o.bool,...F};var j=a({inheritAttrs:!1,props:T,emits:["visible-change","ok","close","register"],setup(e,{slots:o,emit:a,attrs:B}){const F=i(null),T=i(!1),j=i(null),{t:O}=t(),D=r((()=>l(n(e),s(j)))),P=r((()=>{const e={placement:"right",...B,...s(D),visible:s(T)};e.title=void 0;const{isDetail:t,width:o,wrapClassName:a,getContainer:i}=e;if(t){o||(e.width="100%");const t="basic-drawer__detail";e.wrapClassName=a?`${a} ${t}`:t,i||(e.getContainer=".layout-content")}return e})),L=r((()=>({...B,...s(P)}))),$=r((()=>{const{footerHeight:e,showFooter:t}=s(P);return t&&e?d(e)?`${e}px`:`${e.replace("px","")}px`:"0px"})),H=r((()=>({position:"relative",height:`calc(100% - ${s($)})`,overflow:"auto",padding:"16px",paddingBottom:"30px"}))),z=r((()=>{var e;return!!(null==(e=s(P))?void 0:e.loading)}));async function N(e){const{closeFunc:t}=s(P);if(a("close",e),t&&h(t)){const e=await t();T.value=!e}else T.value=!1}c((()=>{T.value=e.visible})),p((()=>T.value),(e=>{b((()=>{a("visible-change",e)}))}),{immediate:!1});const R={setDrawerProps:function(e){j.value=l(s(j)||{},e),Reflect.has(e,"visible")&&(T.value=!!e.visible)}};return f((e=>{a("register",R,e.uid)})),()=>u(_,{class:"basic-drawer",onClose:N,...s(L)},{title:()=>function(){if(null==o?void 0:o.title)return y(o,"title");const{title:t}=s(D);return e.isDetail?u(v,{type:"flex",align:"middle",class:"basic-drawer__detail-header"},(()=>u(w,null,e.showDetailBack&&u(x,{size:"small",type:"link",onClick:N},(()=>u(k,null))),t&&u(m,{style:"flex:1",class:["basic-drawer__detail-title","ellipsis","px-2"]},(()=>t)),y(o,"titleToolbar")))):u(C,null,(()=>t||y(o,"title")))}(),default:()=>u(w,null,u("div",{ref:F,style:s(H)},u(g,{absolute:!0,tip:O("component.drawer.loadingText"),loading:s(z)}),y(o)),function(){if(null==o?void 0:o.footer)return y(o,"footer");const{showCancelBtn:e,cancelButtonProps:t,cancelText:i,showOkBtn:r,okType:l,okText:n,okButtonProps:d,confirmLoading:c,showFooter:p}=s(P);return p?u("div",{class:"basic-drawer__footer"},y(o,"insertFooter"),e&&u(x,{...t,onClick:N,class:"mr-2"},(()=>i)),y(o,"centerFooter"),r&&u(x,{type:l,onClick:()=>{a("ok")},...d,loading:c},(()=>n)),y(o,"appendFooter")):null}())})}});export default j;