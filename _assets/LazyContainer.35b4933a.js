let e=document.createElement("style");e.innerHTML=".lazy-container{width:100%;height:100%}",document.head.appendChild(e);import{r as t,T as n,a as o,b as i,N as a,bY as s,_ as r,i as l,o as c,j as u,w as d,s as m,q as p,bL as f}from"./index.a4c995c9.js";import"./xlsx.a48e520c.js";import{S as v}from"./index.509e567c.js";import{u as g}from"./useTimeout.0fb9d179.js";import{p as h}from"./propTypes.7f710850.js";var b=o({name:"LazyContainer",components:{Skeleton:v},props:{timeout:h.number,viewport:{type:"undefined"!=typeof window?window.HTMLElement:Object,default:()=>null},threshold:h.string.def("0px"),direction:h.oneOf(["vertical","horizontal"]).def("vertical"),tag:h.string.def("div"),maxWaitingTime:h.number.def(80),transitionName:h.string.def("lazy-container")},emits:["init"],setup(e,{emit:o}){const l=t(null),c=i({isInit:!1,loading:!1,intersectionObserverInstance:null});function u(){c.loading=!0,g((()=>{c.isInit||(c.isInit=!0,o("init"))}),e.maxWaitingTime||80)}return a((()=>{!function(){const{timeout:t}=e;t&&g((()=>{u()}),t)}(),function(){const{timeout:o,direction:i,threshold:a}=e;if(o)return;let r="0px";switch(i){case"vertical":r=`${a} 0px`;break;case"horizontal":r=`0px ${a}`}try{const{stop:o,observer:i}=function({target:e,root:o,onIntersect:i,rootMargin:a="0px",threshold:s=.1}){let r=()=>{};const l=t(null),c=n((()=>{r(),l.value=new IntersectionObserver(i,{root:o?o.value:null,rootMargin:a,threshold:s});const t=e.value;t&&l.value.observe(t),r=()=>{l.value&&(l.value.disconnect(),e.value&&l.value.unobserve(e.value))}}));return{observer:l,stop:()=>{r(),c()}}}({rootMargin:r,target:s(l.value,"$el"),onIntersect:e=>{(e[0].isIntersecting||e[0].intersectionRatio)&&(u(),i&&o())},root:s(e,"viewport")})}catch(e){u()}}()})),{elRef:l,...r(c)}}});const y={key:"component"},x={key:"skeleton",name:"lazy-skeleton"};b.render=function(e,t,n,o,i,a){const s=l("Skeleton");return c(),u(f,p({class:"lazy-container"},e.$attrs,{ref:"elRef",name:e.transitionName,tag:e.tag,mode:"out-in"}),{default:d((()=>[e.isInit?(c(),u("div",y,[m(e.$slots,"default",{loading:e.loading})])):(c(),u("div",x,[e.$slots.skeleton?m(e.$slots,"skeleton",{key:0}):(c(),u(s,{key:1}))]))])),_:1},16,["name","tag"])};export default b;