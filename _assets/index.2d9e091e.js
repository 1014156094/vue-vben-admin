let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}",document.head.appendChild(t);import{a as e,r as i,b as r,p as s,f as l,du as a,M as n,N as o,D as m,O as c}from"./index.a4c995c9.js";import"./xlsx.a48e520c.js";import"./useDebounce.460c0b67.js";import{u as h}from"./useEventListener.dafd0e6c.js";import{g as u}from"./tsxHelper.20d71045.js";var d=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const d=i(null),p=r({first:0,last:0,scrollTop:0}),g=s((()=>parseInt(t.bench,10))),f=s((()=>parseInt(t.itemHeight,10))),b=s((()=>Math.max(0,p.first-l(g)))),x=s((()=>Math.min((t.items||[]).length,p.last+l(g)))),v=s((()=>({height:a((t.items||[]).length*l(f))}))),H=s((()=>{const e={},i=a(t.height),r=a(t.minHeight),s=a(t.minWidth),l=a(t.maxHeight),n=a(t.maxWidth),o=a(t.width);return i&&(e.height=i),r&&(e.minHeight=r),s&&(e.minWidth=s),l&&(e.maxHeight=l),n&&(e.maxWidth=n),o&&(e.width=o),e}));function y(e){const i=l(d);if(!i)return 0;const r=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(r/l(f))}function N(){const t=l(d);t&&(p.scrollTop=t.scrollTop,p.first=Math.floor(p.scrollTop/l(f)),p.last=y(p.first))}function S(t,i){i+=l(b);const r=a(i*l(f));return c("div",{class:"virtual-scroll__item",style:{top:r},key:i},u(e,"default",{index:i,item:t}))}return n([()=>t.itemHeight,()=>t.height],(()=>{N()})),o((()=>{p.last=y(0),m((()=>{const t=l(d);t&&h({el:t,name:"scroll",listener:N,wait:0})}))})),()=>c("div",{class:"virtual-scroll",style:l(H),ref:d},c("div",{class:"virtual-scroll__container",style:l(v)},function(){const{items:e=[]}=t;return e.slice(l(b),l(x)).map(S)}()))}});export default d;