let e=document.createElement("style");e.innerHTML=".vben-app-search-footer[data-v-6f0c7c50]{position:relative;display:flex;height:44px;padding:0 16px;font-size:12px;color:#666;background:rgb(255 255 255);border-radius:0 0 8px 8px;box-shadow:0 -1px 0 0 #e0e3e8,0 -3px 6px 0 rgba(69,98,155,.12);align-items:center;flex-shrink:0}.vben-app-search-footer__item[data-v-6f0c7c50]{display:flex;width:20px;height:18px;padding-bottom:2px;margin-right:.4em;background:linear-gradient(-225deg,#d5dbe4,#f8f8f8);border-radius:2px;box-shadow:inset 0 -2px 0 0 #cdcde6,inset 0 0 1px 1px #fff,0 1px 2px 1px rgba(30,35,90,.4);align-items:center;justify-content:center}.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(2),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(3),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(6){margin-left:14px}.vben-app-search-modal[data-v-3e9a79ca]{position:fixed;top:0;left:0;z-index:100;display:flex;width:100%;height:100%;padding-top:50px;background:rgba(0,0,0,.8);justify-content:center}.vben-app-search-modal-content[data-v-3e9a79ca]{position:relative;width:532px;margin:0 auto auto;background:#f5f6f7;border-radius:6px;box-shadow:inset 1px 1px 0 0 hsla(0,0%,100%,.5),0 3px 8px 0 #555a64;flex-direction:column}.vben-app-search-modal-input[data-v-3e9a79ca]{width:calc(100% - 28px);height:56px;margin:14px 14px 0;font-size:1.5em;color:#1c1e21}.vben-app-search-modal-input span[role=img][data-v-3e9a79ca]{color:#999}.vben-app-search-modal-not-data[data-v-3e9a79ca]{display:flex;width:100%;height:100px;font-size:.9;color:rgb(150 159 175);align-items:center;justify-content:center}.vben-app-search-modal-list[data-v-3e9a79ca]{max-height:472px;padding:0 14px 20px;margin:14px auto 0;overflow:auto}.vben-app-search-modal-list__item[data-v-3e9a79ca]{position:relative;display:flex;width:100%;height:56px;padding-bottom:4px;padding-left:14px;margin-top:8px;font-size:14px;color:rgba(0,0,0,.85);cursor:pointer;background:#fff;border-radius:4px;box-shadow:0 1px 3px 0 #d4d9e1;align-items:center}.vben-app-search-modal-list__item--active[data-v-3e9a79ca]{color:#fff;background:#018ffb}.vben-app-search-modal-list__item--active .vben-app-search-modal-list__item-enter[data-v-3e9a79ca]{opacity:1}.vben-app-search-modal-list__item-icon[data-v-3e9a79ca]{width:30px}.vben-app-search-modal-list__item-text[data-v-3e9a79ca]{flex:1}.vben-app-search-modal-list__item-enter[data-v-3e9a79ca]{width:30px;opacity:0}.vben-app-search[data-v-12178452]{padding:0 10px}",document.head.appendChild(e);import{k as a,q as t,S as n,r as o,$ as s,u as r,a0 as i,a1 as c,a2 as l,a3 as p,f as d,a4 as u,a5 as h,a as f,i as m,o as x,j as v,m as g,Y as b,p as C,a6 as _,a7 as w,a8 as S,a9 as y,aa as k,n as j,l as O,ab as $}from"./index.a4c995c9.js";import"./xlsx.a48e520c.js";import"./Trigger.a445e86a.js";import{T as E}from"./index.d7919071.js";import"./useContext.1c84e748.js";import"./useAppContext.f59b44f0.js";import{u as M}from"./useDebounce.460c0b67.js";import{C as A}from"./index.bf39ee0d.js";import{u as N}from"./useDesign.27bde3fb.js";import"./useMenuSetting.c9df15c3.js";import{g as z,u as I}from"./index.ca7b8eae.js";import"./animation.eb9b2d91.js";import{u as D}from"./useScrollTo.023978cd.js";var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function T(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var P,L,W=function(e,o){var s=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){T(e,a,t[a])}))}return e}({},e,o.attrs);return a(n,t(s,{icon:R}),null)};function F(e,a,t){const n=o([]),s=o(""),f=o(-1);let m=[];const{t:x}=r(),v=u(),[g]=M((function(e){null==e||e.stopPropagation();const a=e.target.value;if(s.value=a.trim(),!a)return void(n.value=[]);const t=function(e){const a=["",...[...e].map((e=>{return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(a=e)?`\\${a}`:a;var a})),""].join(".*");return new RegExp(a)}(d(s)),o=h(m,(e=>t.test(e.name)));n.value=b(o,t),f.value=0}),200);function b(e,a,t){const n=[];return e.forEach((e=>{const{name:o,path:s,icon:r,children:i}=e;a.test(o)&&!(null==i?void 0:i.length)&&n.push({name:(null==t?void 0:t.name)?`${t.name} > ${o}`:o,path:s,icon:r}),Array.isArray(i)&&i.length&&n.push(...b(i,a,e))})),n}function C(){const t=d(e);if(!t||!Array.isArray(t)||0===t.length||!d(a))return;const n=t[d(f)];if(!n)return;const o=d(a);if(!o)return;const s=n.offsetTop+n.offsetHeight,r=o.offsetHeight,{start:i}=D({el:o,duration:100,to:s-r});i()}function _(){if(!n.value.length)return;const e=d(n),a=d(f);if(0===e.length||a<0)return;const t=e[a];w(),v(t.path)}function w(){t("close")}function S(e){switch(window.event?e.keyCode:e.which){case 38:n.value.length&&(f.value--,f.value<0&&(f.value=n.value.length-1),C());break;case 40:n.value.length&&(f.value++,f.value>n.value.length-1&&(f.value=0),C());break;case 13:_();break;case 27:w()}}return i((async()=>{const e=await z();m=c(e),l(m,(e=>{e.name=x(e.name)})),document.addEventListener("keydown",S)})),p((()=>{document.removeEventListener("keydown",S)})),{handleSearch:g,searchResult:n,keyword:s,activeIndex:f,handleMouseenter:function(e){const a=e.target.dataset.index;f.value=Number(a)},handleEnter:_}}W.displayName="SearchOutlined",W.inheritAttrs=!1,(L=P||(P={}))[L.UP=38]="UP",L[L.DOWN=40]="DOWN",L[L.ENTER=13]="ENTER",L[L.ESC=27]="ESC";var H=f({name:"AppSearchFooter",components:{},setup(){const{prefixCls:e}=N("app-search-footer"),{t:a}=r();return{prefixCls:e,t:a}}});const U=b("data-v-6f0c7c50")(((e,t,n,o,s,r)=>{const i=m("g-icon");return x(),v("div",{class:`${e.prefixCls}`},[a("span",{class:`${e.prefixCls}__item`},[a(i,{icon:"ant-design:enter-outlined"})],2),a("span",null,g(e.t("component.app.toSearch")),1),a("span",{class:`${e.prefixCls}__item`},[a(i,{icon:"bi:arrow-up"})],2),a("span",{class:`${e.prefixCls}__item`},[a(i,{icon:"bi:arrow-down"})],2),a("span",null,g(e.t("component.app.toNavigate")),1),a("span",{class:`${e.prefixCls}__item`},[a(i,{icon:"mdi:keyboard-esc"})],2),a("span",null,g(e.t("component.app.toClose")),1)],2)}));H.render=U,H.__scopeId="data-v-6f0c7c50";var q=f({name:"AppSearchModal",components:{SearchOutlined:W,ClickOutSide:A,AppSearchFooter:H},emits:["close"],setup(e,{emit:a}){const t=o(null),{prefixCls:n}=N("app-search-modal"),{t:i}=r(),[c,l]=function(){const e=o([]);return s((()=>{e.value=[]})),[e,a=>t=>{e.value[a]=t}]}(),{handleSearch:p,searchResult:u,keyword:h,activeIndex:f,handleEnter:m,handleMouseenter:x}=F(c,t,a),v=C((()=>!h||0===d(u).length));return{t:i,prefixCls:n,handleSearch:p,searchResult:u,activeIndex:f,getIsNotData:v,handleEnter:m,setRefs:l,scrollWrap:t,handleMouseenter:x,handleClose:()=>{a("close")}}}});const B=b("data-v-3e9a79ca"),Y=B(((e,t,n,o,s,r)=>{const i=m("SearchOutlined"),c=m("a-input"),l=m("g-icon"),p=m("AppSearchFooter"),d=m("ClickOutSide");return x(),v("div",{class:e.prefixCls,onClick:t[3]||(t[3]=k((()=>{}),["stop"]))},[a(d,{onClickOutside:e.handleClose},{default:B((()=>[a("div",{class:`${e.prefixCls}-content`},[a(c,{class:`${e.prefixCls}-input`,placeholder:e.t("component.app.search"),"allow-clear":"",onChange:e.handleSearch},{prefix:B((()=>[a(i)])),_:1},8,["class","placeholder","onChange"]),_(a("div",{class:`${e.prefixCls}-not-data`},g(e.t("component.app.searchNotData")),3),[[w,e.getIsNotData]]),_(a("ul",{class:`${e.prefixCls}-list`,ref:"scrollWrap"},[(x(!0),v(S,null,y(e.searchResult,((n,o)=>(x(),v("li",{ref:e.setRefs(o),key:n.path,"data-index":o,onMouseenter:t[1]||(t[1]=(...a)=>e.handleMouseenter&&e.handleMouseenter(...a)),onClick:t[2]||(t[2]=(...a)=>e.handleEnter&&e.handleEnter(...a)),class:[`${e.prefixCls}-list__item`,{[`${e.prefixCls}-list__item--active`]:e.activeIndex===o}]},[a("div",{class:`${e.prefixCls}-list__item-icon`},[a(l,{icon:n.icon||"mdi:form-select",size:20},null,8,["icon"])],2),a("div",{class:`${e.prefixCls}-list__item-text`},g(n.name),3),a("div",{class:`${e.prefixCls}-list__item-enter`},[a(l,{icon:"ant-design:enter-outlined",size:20})],2)],42,["data-index"])))),128))],2),[[w,!e.getIsNotData]]),a(p)],2)])),_:1},8,["onClickOutside"])],2)}));q.render=Y,q.__scopeId="data-v-3e9a79ca";var G=f({name:"AppSearch",components:{AppSearchModal:q,Tooltip:E,SearchOutlined:W},setup(){const e=o(!1),{prefixCls:a}=N("app-search"),{getShowSearch:t}=I(),{t:n}=r();return{t:n,prefixCls:a,showModal:e,getShowSearch:t,handleClose:()=>{e.value=!1},handleSearch:function(){e.value=!0}}}});const J=b("data-v-12178452"),K=J(((e,t,n,o,s,r)=>{const i=m("SearchOutlined"),c=m("Tooltip"),l=m("AppSearchModal");return e.getShowSearch?(x(),v("div",{key:0,class:e.prefixCls,onClick:t[1]||(t[1]=(...a)=>e.handleSearch&&e.handleSearch(...a))},[a(c,null,{title:J((()=>[j(g(e.t("component.app.search")),1)])),default:J((()=>[a(i)])),_:1}),a($,{name:"zoom-fade",mode:"out-in"},{default:J((()=>[e.showModal?(x(),v(l,{key:0,onClose:e.handleClose},null,8,["onClose"])):O("",!0)])),_:1})],2)):O("",!0)}));G.render=K,G.__scopeId="data-v-12178452";export default G;