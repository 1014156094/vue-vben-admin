import{P as e,_ as t,a as r,a9 as n,H as a,k as o,L as l,am as s,D as i,C as c,I as u,M as f,E as p,i as v,o as d,j as m,w as y,x as h,m as g,ad as b,p as w,n as z,r as x,ae as S,q as C,b as k,Q as $,av as T,a7 as _,v as O,cu as j,aI as A,aJ as B,s as E,cv as I,cw as H,cn as M,F as W,bf as R,N as P,cx as L,y as q,f as N}from"./index.5d3f6cb5.js";import{u as X}from"./useTimeout.a028e2d1.js";import{C as Y}from"./index.f3ab5b5b.js";import{a as U,o as D}from"./domUtils.31b70c37.js";import{B as F,a as J}from"./index.5af0c53a.js";import{a as K,r as Q}from"./resizeEvent.6c27db1d.js";import{u as G}from"./useScrollTo.e7559bfd.js";function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z={prefixCls:e.string,size:e.oneOfType([e.oneOf(t("large","small","default")),e.number]),shape:e.oneOf(t("circle","square"))},ee=e.shape(Z).loose,te=r({props:n(Z,{size:"large"}),render:function(){var e,t,r=this.$props,n=r.prefixCls,l=r.size,s=r.shape,i=a((V(e={},"".concat(n,"-lg"),"large"===l),V(e,"".concat(n,"-sm"),"small"===l),e)),c=a((V(t={},"".concat(n,"-circle"),"circle"===s),V(t,"".concat(n,"-square"),"square"===s),t)),u="number"==typeof l?{width:"".concat(l,"px"),height:"".concat(l,"px"),lineHeight:"".concat(l,"px")}:{};return o("span",{class:a(n,i,c),style:u},null)}}),re={prefixCls:e.string,width:e.oneOfType([e.number,e.string])},ne=e.shape(re),ae=r({props:re,render:function(){var e=this.$props,t=e.prefixCls,r=e.width,n="number"==typeof r?"".concat(r,"px"):r;return o("h3",{class:t,style:{width:n}},null)}});function oe(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var se=e.oneOfType([e.number,e.string]),ie={prefixCls:e.string,width:e.oneOfType([se,e.arrayOf(se)]),rows:e.number},ce=e.shape(ie),ue=r({props:ie,methods:{getWidth:function(e){var t=this.width,r=this.rows,n=void 0===r?2:r;return Array.isArray(t)?t[e]:n-1===e?t:void 0}},render:function(){var e,t=this,r=this.$props,n=r.prefixCls,a=r.rows,s=oe(Array(a)).map((function(e,r){var n=t.getWidth(r);return o("li",{key:r,style:{width:"number"==typeof n?"".concat(n,"px"):n}},null)}));return o("ul",{class:n},"function"==typeof(e=s)||"[object Object]"===Object.prototype.toString.call(e)&&!l(e)?s:{default:function(){return[s]}})}});function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return e&&"object"===ve(e)?e:{}}var me=s(r({name:"ASkeleton",props:c({active:e.looseBool,loading:e.looseBool,prefixCls:e.string,children:e.any,avatar:i(e.oneOfType([e.string,ee,e.looseBool])),title:i(e.oneOfType([e.looseBool,e.string,ne])),paragraph:i(e.oneOfType([e.looseBool,e.string,ce]))},{avatar:!1,title:!0,paragraph:!0}),setup:function(){return{configProvider:u("configProvider",f)}},render:function(){var e,t,r=this.$props,n=r.prefixCls,l=r.loading,s=r.avatar,i=r.title,c=r.paragraph,u=r.active,f=(0,this.configProvider.getPrefixCls)("skeleton",n);if(l||!p(this,"loading")){var v,d,m,y=!!s||""===s,h=!!i,g=!!c;if(y){var b=pe(pe({prefixCls:"".concat(f,"-avatar")},function(e,t){return e&&!t?{shape:"square"}:{shape:"circle"}}(h,g)),de(s));d=o("div",{class:"".concat(f,"-header")},[o(te,b,null)])}if(h||g){var w,z;if(h){var x=pe(pe({prefixCls:"".concat(f,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(y,g)),de(i));w=o(ae,x,null)}if(g){var S=pe(pe({prefixCls:"".concat(f,"-paragraph")},function(e,t){var r={};return e&&t||(r.width="61%"),r.rows=!e&&t?3:2,r}(y,h)),de(c));z=o(ue,S,null)}m=o("div",{class:"".concat(f,"-content")},[w,z])}var C=a(f,(fe(v={},"".concat(f,"-with-avatar"),y),fe(v,"".concat(f,"-active"),u),v));return o("div",{class:C},[d,m])}return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}})),ye=r({inheritAttrs:!1,components:{BasicArrow:F,BasicTitle:J}});const he={class:"collapse-container__header"},ge={class:"collapse-container__action"};ye.render=function(e,t,r,n,a,l){const s=v("BasicTitle"),i=v("BasicArrow");return d(),m("div",he,[o(s,{helpMessage:e.$attrs.helpMessage},{default:y((()=>[e.$attrs.title?(d(),m(b,{key:0},[w(z(e.$attrs.title),1)],64)):h(e.$slots,"title",{key:1})])),_:1},8,["helpMessage"]),o("div",ge,[h(e.$slots,"action"),e.$attrs.canExpan?(d(),m(i,{key:0,top:"",expand:e.$attrs.show,onClick:t[1]||(t[1]=t=>e.$emit("expand"))},null,8,["expand"])):g("v-if",!0)])])};var be=r({name:"LazyContainer",components:{Skeleton:me},props:{timeout:C.number,viewport:{type:"undefined"!=typeof window?window.HTMLElement:Object,default:()=>null},threshold:C.string.def("0px"),direction:C.oneOf(["vertical","horizontal"]).def("vertical"),tag:C.string.def("div"),maxWaitingTime:C.number.def(80),transitionName:C.string.def("lazy-container")},emits:["init"],setup(e,{emit:t}){const r=x(null),n=k({isInit:!1,loading:!1,intersectionObserverInstance:null});function a(){n.loading=!0,X((()=>{n.isInit||(n.isInit=!0,t("init"))}),e.maxWaitingTime||80)}return $((()=>{!function(){const{timeout:t}=e;t&&X((()=>{a()}),t)}(),function(){const{timeout:t,direction:n,threshold:o}=e;if(t)return;let l="0px";switch(n){case"vertical":l=`${o} 0px`;break;case"horizontal":l=`0px ${o}`}try{const{stop:t,observer:n}=function({target:e,root:t,onIntersect:r,rootMargin:n="0px",threshold:a=.1}){let o=()=>{};const l=x(null),s=S((()=>{o(),l.value=new IntersectionObserver(r,{root:t?t.value:null,rootMargin:n,threshold:a});const s=e.value;s&&l.value.observe(s),o=()=>{l.value&&(l.value.disconnect(),e.value&&l.value.unobserve(e.value))}}));return{observer:l,stop:()=>{o(),s()}}}({rootMargin:l,target:T(r.value,"$el"),onIntersect:e=>{(e[0].isIntersecting||e[0].intersectionRatio)&&(a(),n&&t())},root:T(e,"viewport")})}catch(e){a()}}()})),{elRef:r,..._(n)}}});const we={key:"component"},ze={key:"skeleton",name:"lazy-skeleton"};function xe(){const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),e.eventType="message",window.dispatchEvent(e)}be.render=function(e,t,r,n,a,o){const l=v("Skeleton");return d(),m(j,O({class:"lazy-container"},e.$attrs,{ref:"elRef",name:e.transitionName,tag:e.tag,mode:"out-in"}),{default:y((()=>[e.isInit?(d(),m("div",we,[h(e.$slots,"default",{loading:e.loading})])):(d(),m("div",ze,[e.$slots.skeleton?h(e.$slots,"skeleton",{key:0}):(d(),m(l,{key:1}))]))])),_:1},16,["name","tag"])};var Se=r({name:"CollapseContainer",components:{Skeleton:me,LazyContainer:be,CollapseHeader:ye,CollapseTransition:Y},props:{title:C.string.def(""),canExpan:C.bool.def(!0),helpMessage:{type:[Array,String],default:""},triggerWindowResize:C.bool,loading:C.bool,lazy:C.bool,lazyTime:C.number.def(0)},setup(e){const t=x(!0);return{show:t,handleExpand:function(){t.value=!t.value,e.triggerWindowResize&&X(xe,200)}}}});const Ce={class:"collapse-container p-2"},ke={key:1,class:"collapse-container__body"};Se.render=function(e,t,r,n,a,l){const s=v("CollapseHeader"),i=v("Skeleton"),c=v("LazyContainer"),u=v("CollapseTransition");return d(),m("div",Ce,[o(s,O(e.$props,{show:e.show,onExpand:e.handleExpand}),{title:y((()=>[h(e.$slots,"title")])),_:1},16,["show","onExpand"]),o(u,{enable:e.canExpan},{default:y((()=>[e.loading?(d(),m(i,{key:0})):A((d(),m("div",ke,[e.lazy?(d(),m(c,{key:0,timeout:e.lazyTime},{skeleton:y((()=>[h(e.$slots,"lazySkeleton")])),default:y((()=>[h(e.$slots,"default")])),_:3},8,["timeout"])):h(e.$slots,"default",{key:1})],512)),[[B,e.show]])])),_:1},8,["enable"])])};const $e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function Te({move:e,size:t,bar:r}){const n={},a=`translate${r.axis}(${e}%)`;return n[r.size]=t,n.transform=a,n.msTransform=a,n.webkitTransform=a,n}var _e=r({name:"Bar",props:{vertical:Boolean,size:String,move:Number},setup(e){const t=M(),r=x(null),n=u("scroll-bar-wrap",{}),a=E((()=>$e[e.vertical?"vertical":"horizontal"])),o=x({}),l=x(null),s=e=>{e.ctrlKey||2===e.button||(c(e),o.value[a.value.axis]=e.currentTarget[a.value.offset]-(e[a.value.client]-e.currentTarget.getBoundingClientRect()[a.value.direction]))},i=e=>{var o;const l=100*(Math.abs(e.target.getBoundingClientRect()[a.value.direction]-e[a.value.client])-r.value[a.value.offset]/2)/(null==(o=null==t?void 0:t.vnode.el)?void 0:o[a.value.offset]);n.value[a.value.scroll]=l*n.value[a.value.scrollSize]/100},c=e=>{e.stopImmediatePropagation(),l.value=!0,D(document,"mousemove",f),D(document,"mouseup",p),document.onselectstart=()=>!1},f=e=>{var s,i;if(!1===l.value)return;const c=o.value[a.value.axis];if(!c)return;const u=100*(-1*((null==(s=null==t?void 0:t.vnode.el)?void 0:s.getBoundingClientRect()[a.value.direction])-e[a.value.client])-(r.value[a.value.offset]-c))/(null==(i=null==t?void 0:t.vnode.el)?void 0:i[a.value.offset]);n.value[a.value.scroll]=u*n.value[a.value.scrollSize]/100};function p(){l.value=!1,o.value[a.value.axis]=0,U(document,"mousemove",f),document.onselectstart=null}return I((()=>{U(document,"mouseup",p)})),()=>H("div",{class:["scrollbar__bar","is-"+a.value.key],onMousedown:i},H("div",{ref:r,class:"scrollbar__thumb",onMousedown:s,style:Te({size:e.size,move:e.move,bar:a.value})}))}}),Oe=r({name:"Scrollbar",components:{Bar:_e},props:{native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"}},setup(e){const t=x("0"),r=x("0"),n=x(0),a=x(0),o=x(null),l=x(null);P("scroll-bar-wrap",o);const s=()=>{if(!o.value)return;const e=100*o.value.clientHeight/o.value.scrollHeight,n=100*o.value.clientWidth/o.value.scrollWidth;r.value=e<100?e+"%":"",t.value=n<100?n+"%":""};$((()=>{e.native||(W(s),!e.noresize&&K(l.value,s))})),R((()=>{e.native||!e.noresize&&Q(l.value,s)}));const i=E((()=>{let t=e.wrapStyle;return Array.isArray(e.wrapStyle)&&(t=function(e){const t={};for(let a=0;a<e.length;a++)e[a]&&(r=t,n=e[a],Object.assign(r,n));var r,n;return t}(e.wrapStyle)),t}));return{moveX:n,moveY:a,sizeWidth:t,sizeHeight:r,style:i,wrap:o,resize:l,update:s,handleScroll:()=>{e.native||(a.value=100*o.value.scrollTop/o.value.clientHeight,n.value=100*o.value.scrollLeft/o.value.clientWidth)}}}});const je={class:"scrollbar"};Oe.render=function(e,t,r,n,a,l){const s=v("bar");return d(),m("div",je,[o("div",{ref:"wrap",class:[e.wrapClass,"scrollbar__wrap",e.native?"":"scrollbar__wrap--hidden-default"],style:e.style,onScroll:t[1]||(t[1]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[(d(),m(L(e.tag),{ref:"resize",class:["scrollbar__view",e.viewClass],style:e.viewStyle},{default:y((()=>[h(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?g("v-if",!0):(d(),m(b,{key:0},[o(s,{move:e.moveX,size:e.sizeWidth},null,8,["move","size"]),o(s,{vertical:"",move:e.moveY,size:e.sizeHeight},null,8,["move","size"])],64))])},q(Oe);var Ae=r({name:"ScrollContainer",components:{Scrollbar:Oe},setup(){const e=x(null);return{scrollbarRef:e,scrollTo:function(t,r=500){const n=N(e);n&&W((()=>{const e=N(n.wrap);if(!e)return;const{start:a}=G({el:e,to:t,duration:r});a()}))},scrollBottom:function(){const t=N(e);t&&W((()=>{const e=N(t.wrap);if(!e)return;const r=e.scrollHeight,{start:n}=G({el:e,to:r});n()}))},getScrollWrap:function(){const t=N(e);return t?t.wrap:null}}}});Ae.render=function(e,t,r,n,a,o){const l=v("Scrollbar");return d(),m(l,O({ref:"scrollbarRef",wrapClass:"scrollbar__wrap",viewClass:"scrollbar__view",class:"scroll-container"},e.$attrs),{default:y((()=>[h(e.$slots,"default")])),_:3},16)},q(Ae,Se,be);export{me as S,Se as a,be as b,Ae as s};