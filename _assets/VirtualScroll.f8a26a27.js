let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}.virtual-scroll-demo-wrap[data-v-0ff7a306]{display:flex;margin:0 30%;background:#fff;justify-content:center}.virtual-scroll-demo__item[data-v-0ff7a306]{height:40px;padding:0 20px;line-height:40px;border-bottom:1px solid #ddd}",document.head.appendChild(t);import{a as e,r as i,b as a,v as s,f as l,bx as r,aq as o,Y as n,F as d,a2 as c,a4 as m,z as u,O as h,Q as f,i as p,o as g,j as v,k as b,n as x,R as _,p as y}from"./index.dc2474c5.js";import"./xlsx.a48e520c.js";import{D as H}from"./index.c8d3fa2a.js";import"./useDebounce.6bfe7d92.js";import{u as w}from"./useEventListener.242996ad.js";var S=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const u=i(null),h=a({first:0,last:0,scrollTop:0}),f=s((()=>parseInt(t.bench,10))),p=s((()=>parseInt(t.itemHeight,10))),g=s((()=>Math.max(0,h.first-l(f)))),v=s((()=>Math.min((t.items||[]).length,h.last+l(f)))),b=s((()=>({height:r((t.items||[]).length*l(p))}))),x=s((()=>{const e={},i=r(t.height),a=r(t.minHeight),s=r(t.minWidth),l=r(t.maxHeight),o=r(t.maxWidth),n=r(t.width);return i&&(e.height=i),a&&(e.minHeight=a),s&&(e.minWidth=s),l&&(e.maxHeight=l),o&&(e.maxWidth=o),n&&(e.width=n),e}));function _(e){const i=l(u);if(!i)return 0;const a=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(a/l(p))}function y(){const t=l(u);t&&(h.scrollTop=t.scrollTop,h.first=Math.floor(h.scrollTop/l(p)),h.last=_(h.first))}function H(t,i){i+=l(g);const a=r(i*l(p));return c("div",{class:"virtual-scroll__item",style:{top:a},key:i},m(e,"default",{index:i,item:t}))}return o([()=>t.itemHeight,()=>t.height],(()=>{y()})),n((()=>{h.last=_(0),d((()=>{const t=l(u);t&&w({el:t,name:"scroll",listener:y,wait:0})}))})),()=>c("div",{class:"virtual-scroll",style:l(x),ref:u},c("div",{class:"virtual-scroll__container",style:l(b)},function(){const{items:e=[]}=t;return e.slice(l(g),l(v)).map(H)}()))}});u(S);const N=(()=>{const t=[];for(let e=1;e<2e4;e++)t.push({title:"列表项"+e});return t})();var j=e({components:{VirtualScroll:S,Divider:H},setup:()=>({data:N})});const W=_("data-v-0ff7a306");h("data-v-0ff7a306");const k={class:"p-4 virtual-scroll-demo"},M=y("基础滚动示例"),T={class:"virtual-scroll-demo-wrap"},D={class:"virtual-scroll-demo__item"},I=y("即使不可见，也预先加载50条数据，防止空白"),q={class:"virtual-scroll-demo-wrap"},E={class:"virtual-scroll-demo__item"};f();const L=W(((t,e,i,a,s,l)=>{const r=p("Divider"),o=p("_self");return g(),v("div",k,[b(r,null,{default:W((()=>[M])),_:1}),b("div",T,[b(o,{itemHeight:41,items:t.data,height:300,width:300},{default:W((({item:t})=>[b("div",D,x(t.title),1)])),_:1},8,["items"])]),b(r,null,{default:W((()=>[I])),_:1}),b("div",q,[b(o,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:W((({item:t})=>[b("div",E,x(t.title),1)])),_:1},8,["items"])])])}));j.render=L,j.__scopeId="data-v-0ff7a306";export default j;