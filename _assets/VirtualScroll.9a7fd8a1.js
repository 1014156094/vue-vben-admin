let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}.virtual-scroll-demo-wrap[data-v-0ff7a306]{display:flex;margin:0 30%;background:#fff;justify-content:center}.virtual-scroll-demo__item[data-v-0ff7a306]{height:40px;padding:0 20px;line-height:40px;border-bottom:1px solid #ddd}",document.head.appendChild(t);import{a as e,r as i,b as a,v as s,f as l,dw as r,aI as o,ba as n,F as d,T as c,aJ as m,z as u,aT as h,aU as f,i as p,o as g,j as v,k as b,n as _,aW as x,p as w}from"./index.fa77065c.js";import"./xlsx.a48e520c.js";import{D as y}from"./index.f8fbd3c1.js";import"./useDebounce.d84b3497.js";import{u as H}from"./useEventListener.e42e7868.js";var S=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const u=i(null),h=a({first:0,last:0,scrollTop:0}),f=s((()=>parseInt(t.bench,10))),p=s((()=>parseInt(t.itemHeight,10))),g=s((()=>Math.max(0,h.first-l(f)))),v=s((()=>Math.min((t.items||[]).length,h.last+l(f)))),b=s((()=>({height:r((t.items||[]).length*l(p))}))),_=s((()=>{const e={},i=r(t.height),a=r(t.minHeight),s=r(t.minWidth),l=r(t.maxHeight),o=r(t.maxWidth),n=r(t.width);return i&&(e.height=i),a&&(e.minHeight=a),s&&(e.minWidth=s),l&&(e.maxHeight=l),o&&(e.maxWidth=o),n&&(e.width=n),e}));function x(e){const i=l(u);if(!i)return 0;const a=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(a/l(p))}function w(){const t=l(u);t&&(h.scrollTop=t.scrollTop,h.first=Math.floor(h.scrollTop/l(p)),h.last=x(h.first))}function y(t,i){i+=l(g);const a=r(i*l(p));return c("div",{class:"virtual-scroll__item",style:{top:a},key:i},m(e,"default",{index:i,item:t}))}return o([()=>t.itemHeight,()=>t.height],(()=>{w()})),n((()=>{h.last=x(0),d((()=>{const t=l(u);t&&H({el:t,name:"scroll",listener:w,wait:0})}))})),()=>c("div",{class:"virtual-scroll",style:l(_),ref:u},c("div",{class:"virtual-scroll__container",style:l(b)},function(){const{items:e=[]}=t;return e.slice(l(g),l(v)).map(y)}()))}});u(S);const N=(()=>{const t=[];for(let e=1;e<2e4;e++)t.push({title:"列表项"+e});return t})();var j=e({components:{VirtualScroll:S,Divider:y},setup:()=>({data:N})});const T=x("data-v-0ff7a306");h("data-v-0ff7a306");const W={class:"p-4 virtual-scroll-demo"},k=w("基础滚动示例"),I={class:"virtual-scroll-demo-wrap"},M={class:"virtual-scroll-demo__item"},D=w("即使不可见，也预先加载50条数据，防止空白"),E={class:"virtual-scroll-demo-wrap"},L={class:"virtual-scroll-demo__item"};f();const V=T(((t,e,i,a,s,l)=>{const r=p("Divider"),o=p("_self");return g(),v("div",W,[b(r,null,{default:T((()=>[k])),_:1}),b("div",I,[b(o,{itemHeight:41,items:t.data,height:300,width:300},{default:T((({item:t})=>[b("div",M,_(t.title),1)])),_:1},8,["items"])]),b(r,null,{default:T((()=>[D])),_:1}),b("div",E,[b(o,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:T((({item:t})=>[b("div",L,_(t.title),1)])),_:1},8,["items"])])])}));j.render=V,j.__scopeId="data-v-0ff7a306";export default j;