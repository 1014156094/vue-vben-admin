let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}.virtual-scroll-demo-wrap[data-v-0ff7a306]{display:flex;margin:0 30%;background:#fff;justify-content:center}.virtual-scroll-demo__item[data-v-0ff7a306]{height:40px;padding:0 20px;line-height:40px;border-bottom:1px solid #ddd}",document.head.appendChild(t);import{a as e,r as i,b as a,p as s,f as r,bY as l,L as o,M as n,D as d,N as m,v as c,V as u,W as h,i as f,o as p,j as g,k as v,m as b,X as x,n as _}from"./index.29609d4f.js";import"./xlsx.a48e520c.js";import{D as H}from"./index.c42cd4b3.js";import"./useDebounce.58e00ed6.js";import{u as y}from"./useEventListener.baa06eae.js";import{g as w}from"./tsxHelper.9170d194.js";var S=e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const c=i(null),u=a({first:0,last:0,scrollTop:0}),h=s((()=>parseInt(t.bench,10))),f=s((()=>parseInt(t.itemHeight,10))),p=s((()=>Math.max(0,u.first-r(h)))),g=s((()=>Math.min((t.items||[]).length,u.last+r(h)))),v=s((()=>({height:l((t.items||[]).length*r(f))}))),b=s((()=>{const e={},i=l(t.height),a=l(t.minHeight),s=l(t.minWidth),r=l(t.maxHeight),o=l(t.maxWidth),n=l(t.width);return i&&(e.height=i),a&&(e.minHeight=a),s&&(e.minWidth=s),r&&(e.maxHeight=r),o&&(e.maxWidth=o),n&&(e.width=n),e}));function x(e){const i=r(c);if(!i)return 0;const a=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(a/r(f))}function _(){const t=r(c);t&&(u.scrollTop=t.scrollTop,u.first=Math.floor(u.scrollTop/r(f)),u.last=x(u.first))}function H(t,i){i+=r(p);const a=l(i*r(f));return m("div",{class:"virtual-scroll__item",style:{top:a},key:i},w(e,"default",{index:i,item:t}))}return o([()=>t.itemHeight,()=>t.height],(()=>{_()})),n((()=>{u.last=x(0),d((()=>{const t=r(c);t&&y({el:t,name:"scroll",listener:_,wait:0})}))})),()=>m("div",{class:"virtual-scroll",style:r(b),ref:c},m("div",{class:"virtual-scroll__container",style:r(v)},function(){const{items:e=[]}=t;return e.slice(r(p),r(g)).map(H)}()))}});c(S);const N=(()=>{const t=[];for(let e=1;e<2e4;e++)t.push({title:"列表项"+e});return t})();var j=e({components:{VirtualScroll:S,Divider:H},setup:()=>({data:N})});const W=x("data-v-0ff7a306");u("data-v-0ff7a306");const M={class:"p-4 virtual-scroll-demo"},k=_("基础滚动示例"),D={class:"virtual-scroll-demo-wrap"},T={class:"virtual-scroll-demo__item"},I=_("即使不可见，也预先加载50条数据，防止空白"),L={class:"virtual-scroll-demo-wrap"},V={class:"virtual-scroll-demo__item"};h();const E=W(((t,e,i,a,s,r)=>{const l=f("Divider"),o=f("_self");return p(),g("div",M,[v(l,null,{default:W((()=>[k])),_:1}),v("div",D,[v(o,{itemHeight:41,items:t.data,height:300,width:300},{default:W((({item:t})=>[v("div",T,b(t.title),1)])),_:1},8,["items"])]),v(l,null,{default:W((()=>[I])),_:1}),v("div",L,[v(o,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:W((({item:t})=>[v("div",V,b(t.title),1)])),_:1},8,["items"])])])}));j.render=E,j.__scopeId="data-v-0ff7a306";export default j;