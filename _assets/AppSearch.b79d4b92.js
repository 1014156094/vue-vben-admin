let e=document.createElement("style");e.innerHTML=".vben-app-search-footer[data-v-6f0c7c50]{position:relative;display:flex;height:44px;padding:0 16px;font-size:12px;color:#666;background:rgb(255 255 255);border-radius:0 0 8px 8px;box-shadow:0 -1px 0 0 #e0e3e8,0 -3px 6px 0 rgba(69,98,155,.12);align-items:center;flex-shrink:0}.vben-app-search-footer__item[data-v-6f0c7c50]{display:flex;width:20px;height:18px;padding-bottom:2px;margin-right:.4em;background:linear-gradient(-225deg,#d5dbe4,#f8f8f8);border-radius:2px;box-shadow:inset 0 -2px 0 0 #cdcde6,inset 0 0 1px 1px #fff,0 1px 2px 1px rgba(30,35,90,.4);align-items:center;justify-content:center}.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(2),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(3),.vben-app-search-footer__item[data-v-6f0c7c50]:nth-child(6){margin-left:14px}.vben-app-search-modal[data-v-ea7ab32a]{position:fixed;top:0;left:0;z-index:800;display:flex;width:100%;height:100%;padding-top:50px;background:rgba(0,0,0,.8);justify-content:center}.vben-app-search-modal--mobile[data-v-ea7ab32a]{padding:0}.vben-app-search-modal--mobile>div[data-v-ea7ab32a]{width:100%}.vben-app-search-modal--mobile .vben-app-search-modal-input[data-v-ea7ab32a]{width:calc(100% - 38px)}.vben-app-search-modal--mobile .vben-app-search-modal-cancel[data-v-ea7ab32a]{display:inline-block}.vben-app-search-modal--mobile .vben-app-search-modal-content[data-v-ea7ab32a]{width:100%;height:100%;border-radius:0}.vben-app-search-modal--mobile .vben-app-search-footer[data-v-ea7ab32a]{display:none}.vben-app-search-modal--mobile .vben-app-search-modal-list[data-v-ea7ab32a]{height:calc(100% - 80px);max-height:unset}.vben-app-search-modal--mobile .vben-app-search-modal-list__item-enter[data-v-ea7ab32a]{opacity:0!important}.vben-app-search-modal-content[data-v-ea7ab32a]{position:relative;width:532px;margin:0 auto auto;background:#f5f6f7;border-radius:6px;box-shadow:inset 1px 1px 0 0 hsla(0,0%,100%,.5),0 3px 8px 0 #555a64;flex-direction:column}.vben-app-search-modal-input__wrapper[data-v-ea7ab32a]{display:flex;padding:14px 14px 0;justify-content:space-between;align-items:center}.vben-app-search-modal-input[data-v-ea7ab32a]{width:100%;height:56px;font-size:1.5em;color:#1c1e21}.vben-app-search-modal-input span[role=img][data-v-ea7ab32a]{color:#999}.vben-app-search-modal-cancel[data-v-ea7ab32a]{display:none;font-size:1em;color:#666}.vben-app-search-modal-not-data[data-v-ea7ab32a]{display:flex;width:100%;height:100px;font-size:.9;color:rgb(150 159 175);align-items:center;justify-content:center}.vben-app-search-modal-list[data-v-ea7ab32a]{max-height:472px;padding:0 14px 20px;margin:14px auto 0;overflow:auto}.vben-app-search-modal-list__item[data-v-ea7ab32a]{position:relative;display:flex;width:100%;height:56px;padding-bottom:4px;padding-left:14px;margin-top:8px;font-size:14px;color:rgba(0,0,0,.85);cursor:pointer;background:#fff;border-radius:4px;box-shadow:0 1px 3px 0 #d4d9e1;align-items:center}.vben-app-search-modal-list__item--active[data-v-ea7ab32a]{color:#fff;background:#018ffb}.vben-app-search-modal-list__item--active .vben-app-search-modal-list__item-enter[data-v-ea7ab32a]{opacity:1}.vben-app-search-modal-list__item-icon[data-v-ea7ab32a]{width:30px}.vben-app-search-modal-list__item-text[data-v-ea7ab32a]{flex:1}.vben-app-search-modal-list__item-enter[data-v-ea7ab32a]{width:30px;opacity:0}.vben-app-search[data-v-5d90d834]{padding:2px}",document.head.appendChild(e);import{k as a,v as t,cs as n,r as o,bf as s,u as i,cL as r,cM as l,cN as c,bc as p,f as d,b4 as h,X as u,a as m,au as f,i as v,o as b,j as x,n as g,aR as _,s as C,cO as w,aI as y,aJ as S,ad as k,aH as j,m as O,aN as $,b9 as E,p as M}from"./index.247b4d5c.js";import"./xlsx.a48e520c.js";import"./Trigger.455696d5.js";import{T as N}from"./index.510f2512.js";import{u as A}from"./useDebounce.bc3eb614.js";import{C as I}from"./index.ad93746f.js";import{b as z,u as R,d as T}from"./useHeaderSetting.38c8c494.js";import"./animation.e4c2e497.js";import{u as D}from"./useScrollTo.0e642b2b.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function H(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var L,W,F=function(e,o){var s=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){H(e,a,t[a])}))}return e}({},e,o.attrs);return a(n,t(s,{icon:P}),null)};function B(e,a,t){const n=o([]),s=o(""),m=o(-1);let f=[];const{t:v}=i(),b=u(),[x]=A((function(e){null==e||e.stopPropagation();const a=e.target.value;if(s.value=a.trim(),!a)return void(n.value=[]);const t=function(e){const a=["",...[...e].map((e=>{return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(a=e)?`\\${a}`:a;var a})),""].join(".*");return new RegExp(a)}(d(s)),o=h(f,(e=>t.test(e.name)));n.value=g(o,t),m.value=0}),200);function g(e,a,t){const n=[];return e.forEach((e=>{const{name:o,path:s,icon:i,children:r}=e;a.test(o)&&!(null==r?void 0:r.length)&&n.push({name:(null==t?void 0:t.name)?`${t.name} > ${o}`:o,path:s,icon:i}),Array.isArray(r)&&r.length&&n.push(...g(r,a,e))})),n}function _(){const t=d(e);if(!t||!Array.isArray(t)||0===t.length||!d(a))return;const n=t[d(m)];if(!n)return;const o=d(a);if(!o)return;const s=n.offsetTop+n.offsetHeight,i=o.offsetHeight,{start:r}=D({el:o,duration:100,to:s-i});r()}function C(){if(!n.value.length)return;const e=d(n),a=d(m);if(0===e.length||a<0)return;const t=e[a];w(),b(t.path)}function w(){t("close")}function y(e){switch(window.event?e.keyCode:e.which){case 38:n.value.length&&(m.value--,m.value<0&&(m.value=n.value.length-1),_());break;case 40:n.value.length&&(m.value++,m.value>n.value.length-1&&(m.value=0),_());break;case 13:C();break;case 27:w()}}return r((async()=>{const e=await z();f=l(e),c(f,(e=>{e.name=v(e.name)})),document.addEventListener("keydown",y)})),p((()=>{document.removeEventListener("keydown",y)})),{handleSearch:x,searchResult:n,keyword:s,activeIndex:m,handleMouseenter:function(e){const a=e.target.dataset.index;m.value=Number(a)},handleEnter:C}}F.displayName="SearchOutlined",F.inheritAttrs=!1,(W=L||(L={}))[W.UP=38]="UP",W[W.DOWN=40]="DOWN",W[W.ENTER=13]="ENTER",W[W.ESC=27]="ESC";var U=m({name:"AppSearchFooter",components:{},setup(){const{prefixCls:e}=f("app-search-footer"),{t:a}=i();return{prefixCls:e,t:a}}});const J=_("data-v-6f0c7c50")(((e,t,n,o,s,i)=>{const r=v("g-icon");return b(),x("div",{class:`${e.prefixCls}`},[a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"ant-design:enter-outlined"})],2),a("span",null,g(e.t("component.app.toSearch")),1),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"bi:arrow-up"})],2),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"bi:arrow-down"})],2),a("span",null,g(e.t("component.app.toNavigate")),1),a("span",{class:`${e.prefixCls}__item`},[a(r,{icon:"mdi:keyboard-esc"})],2),a("span",null,g(e.t("component.app.toClose")),1)],2)}));U.render=J,U.__scopeId="data-v-6f0c7c50";var X=m({name:"AppSearchModal",components:{SearchOutlined:F,ClickOutSide:I,AppSearchFooter:U},emits:["close"],props:{visible:Boolean},setup(e,{emit:a}){const t=o(null),{prefixCls:n}=f("app-search-modal"),{t:r}=i(),[l,c]=function(){const e=o([]);return s((()=>{e.value=[]})),[e,a=>t=>{e.value[a]=t}]}(),{getIsMobile:p}=R(),{handleSearch:h,searchResult:u,keyword:m,activeIndex:v,handleEnter:b,handleMouseenter:x}=B(l,t,a),g=C((()=>!m||0===d(u).length)),_=C((()=>[n,{[`${n}--mobile`]:d(p)}]));return{t:r,prefixCls:n,getClass:_,handleSearch:h,searchResult:u,activeIndex:v,getIsNotData:g,handleEnter:b,setRefs:c,scrollWrap:t,handleMouseenter:x,handleClose:()=>{a("close")}}}});const q=_("data-v-ea7ab32a"),G=q(((e,t,n,o,s,i)=>{const r=v("SearchOutlined"),l=v("a-input"),c=v("g-icon"),p=v("AppSearchFooter"),d=v("ClickOutSide");return b(),x(E,{to:"body"},[a($,{name:"zoom-fade",mode:"out-in"},{default:q((()=>[e.visible?(b(),x("div",{key:0,class:e.getClass,onClick:t[4]||(t[4]=w((()=>{}),["stop"]))},[a(d,{onClickOutside:e.handleClose},{default:q((()=>[a("div",{class:`${e.prefixCls}-content`},[a("div",{class:`${e.prefixCls}-input__wrapper`},[a(l,{class:`${e.prefixCls}-input`,placeholder:e.t("component.app.search"),"allow-clear":"",onChange:e.handleSearch},{prefix:q((()=>[a(r)])),_:1},8,["class","placeholder","onChange"]),a("span",{class:`${e.prefixCls}-cancel`,onClick:t[1]||(t[1]=(...a)=>e.handleClose&&e.handleClose(...a))},g(e.t("component.app.cancel")),3)],2),y(a("div",{class:`${e.prefixCls}-not-data`},g(e.t("component.app.searchNotData")),3),[[S,e.getIsNotData]]),y(a("ul",{class:`${e.prefixCls}-list`,ref:"scrollWrap"},[(b(!0),x(k,null,j(e.searchResult,((n,o)=>(b(),x("li",{ref:e.setRefs(o),key:n.path,"data-index":o,onMouseenter:t[2]||(t[2]=(...a)=>e.handleMouseenter&&e.handleMouseenter(...a)),onClick:t[3]||(t[3]=(...a)=>e.handleEnter&&e.handleEnter(...a)),class:[`${e.prefixCls}-list__item`,{[`${e.prefixCls}-list__item--active`]:e.activeIndex===o}]},[a("div",{class:`${e.prefixCls}-list__item-icon`},[a(c,{icon:n.icon||"mdi:form-select",size:20},null,8,["icon"])],2),a("div",{class:`${e.prefixCls}-list__item-text`},g(n.name),3),a("div",{class:`${e.prefixCls}-list__item-enter`},[a(c,{icon:"ant-design:enter-outlined",size:20})],2)],42,["data-index"])))),128))],2),[[S,!e.getIsNotData]]),a(p)],2)])),_:1},8,["onClickOutside"])],2)):O("",!0)])),_:1})])}));X.render=G,X.__scopeId="data-v-ea7ab32a";var K=m({name:"AppSearch",components:{AppSearchModal:X,Tooltip:N,SearchOutlined:F},setup(){const e=o(!1),{prefixCls:a}=f("app-search"),{getShowSearch:t}=T(),{t:n}=i();return{t:n,prefixCls:a,showModal:e,getShowSearch:t,handleClose:()=>{e.value=!1},handleSearch:function(){e.value=!0}}}});const Q=_("data-v-5d90d834"),V=Q(((e,t,n,o,s,i)=>{const r=v("SearchOutlined"),l=v("Tooltip"),c=v("AppSearchModal");return e.getShowSearch?(b(),x("div",{key:0,class:e.prefixCls,onClick:t[1]||(t[1]=w(((...a)=>e.handleSearch&&e.handleSearch(...a)),["stop"]))},[a(l,null,{title:Q((()=>[M(g(e.t("component.app.search")),1)])),default:Q((()=>[a(r)])),_:1}),a(c,{onClose:e.handleClose,visible:e.showModal},null,8,["onClose","visible"])],2)):O("",!0)}));K.render=V,K.__scopeId="data-v-5d90d834";export default K;