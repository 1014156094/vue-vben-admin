import{j as t,d as e,q as r,P as n,s as o,M as a,a0 as c,C as s,F as i,y as l,z as p,G as u,Z as f,bR as d,X as h,a9 as y}from"./index.54123aa3.js";import{C as b}from"./CheckOutlined.16a6041f.js";import{d as g,p as v}from"./types.77d8ad57.js";function O(t){return!t||t<0?0:t>100?100:t}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(i){o=!0,a=i}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var P=function(t){var e=t.from,r=void 0===e?"#1890ff":e,n=t.to,o=void 0===n?"#1890ff":n,a=t.direction,c=void 0===a?"to right":a,s=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["from","to","direction"]);if(0!==Object.keys(s).length){var i=function(t){for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var o=j(n[r],2),a=o[0],c=o[1],s=parseFloat(a.replace(/%/g,""));if(isNaN(s))return{};e.push({key:s,value:c})}return(e=e.sort((function(t,e){return t.key-e.key}))).map((function(t){var e=t.key,r=t.value;return"".concat(r," ").concat(e,"%")})).join(", ")}(s);return{backgroundImage:"linear-gradient(".concat(c,", ").concat(i,")")}}return{backgroundImage:"linear-gradient(".concat(c,", ").concat(r,", ").concat(o,")")}},w=function(e,r){var n,o=r.attrs,a=r.slots,c=o.prefixCls,s=o.percent,i=o.successPercent,l=o.strokeWidth,p=o.size,u=o.strokeColor,f=o.strokeLinecap;n=u&&"string"!=typeof u?P(u):{background:u};var d=m({width:"".concat(O(s),"%"),height:"".concat(l||("small"===p?6:8),"px"),background:u,borderRadius:"square"===f?0:"100px"},n),h={width:"".concat(O(i),"%"),height:"".concat(l||("small"===p?6:8),"px"),borderRadius:"square"===f?0:""},y=void 0!==i?t("div",{class:"".concat(c,"-success-bg"),style:h},null):null;return t("div",null,[t("div",{class:"".concat(c,"-outer")},[t("div",{class:"".concat(c,"-inner")},[t("div",{class:"".concat(c,"-bg"),style:d},null),y])]),null==a?void 0:a.default()])};function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function S(t){return x(x({},t),{updated:function(){var t=this,e=Date.now(),r=!1;Object.keys(this.paths).forEach((function(n){var o=t.paths[n];if(o){r=!0;var a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",t.prevTimeStamp&&e-t.prevTimeStamp<100&&(a.transitionDuration="0s, 0s")}})),r&&(this.prevTimeStamp=Date.now())}})}function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}S(e({name:"Line",props:r(v,g),created:function(){this.paths={}},render:function(){var e=this,r=this.$props,n=r.percent,o=r.prefixCls,a=r.strokeColor,c=r.strokeLinecap,s=r.strokeWidth,i=r.trailColor,l=r.trailWidth,p=r.transition,u=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(r,["percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","trailColor","trailWidth","transition"]);delete u.gapPosition;var f=Array.isArray(n)?n:[n],d=Array.isArray(a)?a:[a],h=s/2,y=100-s/2,b="M ".concat("round"===c?h:0,",").concat(h,"\n           L ").concat("round"===c?y:100,",").concat(h),g="0 0 100 ".concat(s),v=0,O={d:b,"stroke-linecap":c,stroke:i,"stroke-width":l||s,"fill-opacity":"0",class:"".concat(o,"-line-trail")};return t("svg",D({class:"".concat(o,"-line"),viewBox:g,preserveAspectRatio:"none"},u),[t("path",O,null),f.map((function(r,n){var a={strokeDasharray:"".concat(r,"px, 100px"),strokeDashoffset:"-".concat(v,"px"),transition:p||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},i=d[n]||d[d.length-1];v+=r;var l={key:n,d:b,"stroke-linecap":c,stroke:i,"stroke-width":s,"fill-opacity":"0",class:"".concat(o,"-line-path"),style:a};return t("path",D({ref:function(t){return e.paths[n]=t}},l),null)}))])}}));var $=E(E({},v),{gapPosition:n.oneOf(["top","bottom","left","right"]),gapDegree:o(n.oneOfType([n.number,n.string,n.looseBool]))}),z=E(E({},g),{gapPosition:"top"}),T=0;function M(t){return+t.replace("%","")}function q(t){return Array.isArray(t)?t:[t]}function B(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,c=50-n/2,s=0,i=-c,l=0,p=-2*c;switch(a){case"left":s=-c,i=0,l=2*c,p=0;break;case"right":s=c,i=0,l=-2*c,p=0;break;case"bottom":i=c,p=2*c}var u="M 50,50 m ".concat(s,",").concat(i,"\n   a ").concat(c,",").concat(c," 0 1 1 ").concat(l,",").concat(-p,"\n   a ").concat(c,",").concat(c," 0 1 1 ").concat(-l,",").concat(p),f=2*Math.PI*c,d={stroke:r,strokeDasharray:"".concat(e/100*(f-o),"px ").concat(f,"px"),strokeDashoffset:"-".concat(o/2+t/100*(f-o),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s"};return{pathString:u,pathStyle:d}}var N=S(e({name:"Circle",props:r($,z),created:function(){this.paths={},this.gradientId=T,T+=1},methods:{getStokeList:function(){var e=this,r=this.$props,n=r.prefixCls,o=r.percent,a=r.strokeColor,c=r.strokeWidth,s=r.strokeLinecap,i=r.gapDegree,l=r.gapPosition,p=q(o),u=q(a),f=0;return p.map((function(r,o){var a=u[o]||u[u.length-1],p="[object Object]"===Object.prototype.toString.call(a)?"url(#".concat(n,"-gradient-").concat(e.gradientId,")"):"",d=B(f,r,a,c,i,l),h=d.pathString,y=d.pathStyle;f+=r;var b={key:o,d:h,stroke:p,"stroke-linecap":s,"stroke-width":0===r?0:c,"fill-opacity":"0",class:"".concat(n,"-circle-path"),style:y};return t("path",L({ref:function(t){return e.paths[o]=t}},b),null)}))}},render:function(){var e=this.$props,r=e.prefixCls,n=e.strokeWidth,o=e.trailWidth,a=e.gapDegree,c=e.gapPosition,s=e.trailColor,i=e.strokeLinecap,l=e.strokeColor,p=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),u=B(0,100,s,n,a,c),f=u.pathString,d=u.pathStyle;delete p.percent;var h=q(l).find((function(t){return"[object Object]"===Object.prototype.toString.call(t)})),y={d:f,stroke:s,"stroke-linecap":i,"stroke-width":o||n,"fill-opacity":"0",class:"".concat(r,"-circle-trail"),style:d};return t("svg",L({class:"".concat(r,"-circle"),viewBox:"0 0 100 100"},p),[h&&t("defs",null,[t("linearGradient",{id:"".concat(r,"-gradient-").concat(this.gradientId),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(h).sort((function(t,e){return M(t)-M(e)})).map((function(e,r){return t("stop",{key:r,offset:e,"stop-color":h[e]},null)}))])]),t("path",y,null),this.getStokeList().reverse()])}})),R=a("normal","exception","active","success"),F=n.oneOf(a("line","circle","dashboard")),G=n.oneOf(a("default","small")),U={prefixCls:n.string,type:F,percent:n.number,successPercent:n.number,format:n.func,status:n.oneOf(R),showInfo:n.looseBool,strokeWidth:n.number,strokeLinecap:n.oneOf(["butt","round","square"]),strokeColor:n.oneOfType([n.string,n.object]),trailColor:n.string,width:n.number,gapDegree:n.number,gapPosition:n.oneOf(a("top","bottom","left","right")),size:G};function X(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var H=Z(Z({},U),{progressStatus:n.string}),J={normal:"#108ee9",exception:"#ff5500",success:"#87d068"};function K(t){var e=t.percent,r=t.successPercent,n=O(e);if(!r)return n;var o=O(r);return[r,O(n-o)]}var Q=e({props:H,setup:function(e,r){var n=r.slots;return function(){var r,o,a,c,s,i=e.prefixCls,l=e.width,p=e.strokeWidth,u=e.trailColor,f=e.strokeLinecap,d=e.gapPosition,h=e.gapDegree,y=e.type,b=l||120,g={width:"number"==typeof b?"".concat(b,"px"):b,height:"number"==typeof b?"".concat(b,"px"):b,fontSize:"".concat(.15*b+6,"px")},v=p||6,O=d||"dashboard"===y&&"bottom"||"top",m=h||"dashboard"===y&&75,j=(a=(o=e).progressStatus,c=o.successPercent,s=o.strokeColor||J[a],c?[J.success,s]:s),k="[object Object]"===Object.prototype.toString.call(j),P=(X(r={},"".concat(i,"-inner"),!0),X(r,"".concat(i,"-circle-gradient"),k),r);return t("div",{class:P,style:g},[t(N,{percent:K(e),strokeWidth:v,trailWidth:v,strokeColor:j,strokeLinecap:f,trailColor:u,prefixCls:i,gapDegree:m,gapPosition:O},null),null==n?void 0:n.default()])}}});function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y(){return(Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function _(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!i(t)}var tt=y(e({name:"AProgress",props:c(U,{type:"line",percent:0,showInfo:!0,trailColor:"#f3f3f3",size:"default",gapDegree:0,strokeLinecap:"round"}),setup:function(){return{configProvider:s("configProvider",u)}},methods:{getPercentNumber:function(){var t=this.$props,e=t.successPercent,r=t.percent,n=void 0===r?0:r;return parseInt(void 0!==e?e.toString():n.toString(),10)},getProgressStatus:function(){var t=this.$props.status;return R.indexOf(t)<0&&this.getPercentNumber()>=100?"success":t||"normal"},renderProcessInfo:function(e,r){var n,o=this.$props,a=o.showInfo,c=o.format,s=o.type,i=o.percent,l=o.successPercent;if(!a)return null;var p=c||this.$slots.format||function(t){return"".concat(t,"%")},u="line"===s;return c||this.$slots.format||"exception"!==r&&"success"!==r?n=p(O(i),O(l)):"exception"===r?n=t(u?f:d,null,null):"success"===r&&(n=t(u?h:b,null,null)),t("span",{class:"".concat(e,"-text"),title:"string"==typeof n?n:void 0},_(n)?n:{default:function(){return[n]}})}},render:function(){var e,r,n=l(this),o=n.prefixCls,a=n.size,c=n.type,s=n.showInfo,i=(0,this.configProvider.getPrefixCls)("progress",o),u=this.getProgressStatus(),f=this.renderProcessInfo(i,u);if("line"===c){var d=Y(Y({},n),{prefixCls:i});r=t(w,d,_(f)?f:{default:function(){return[f]}})}else if("circle"===c||"dashboard"===c){var h=Y(Y({},n),{prefixCls:i,progressStatus:u});r=t(Q,h,_(f)?f:{default:function(){return[f]}})}var y=p(i,(V(e={},"".concat(i,"-").concat("dashboard"===c?"circle":c),!0),V(e,"".concat(i,"-status-").concat(u),!0),V(e,"".concat(i,"-show-info"),s),V(e,"".concat(i,"-").concat(a),a),e));return t("div",{class:y},_(r)?r:{default:function(){return[r]}})}}));export{tt as P};