import{d as e,ct as s,bT as a,aE as o,b9 as r,d2 as t,d3 as d,bG as c,bH as i,h as l,b0 as n,o as m,i as u,aY as p,j as f,l as _,k as y,aA as P,m as h}from"./index.899e68b1.js";import{_ as x}from"./index.dc7cfeca.js";import"./usePageContext.914e04cb.js";import b from"./CurrentPermissionMode.fc301d4d.js";import{_ as C}from"./index.8e888b3c.js";var g=e({components:{Alert:s,PageWrapper:x,CurrentPermissionMode:b,Divider:a,Authority:C},setup(){const{hasPermission:e}=t();async function s(e){const s=await d({userId:e});o.commitPermCodeListState(s)}return s("1"),{hasPermission:e,permissionStore:o,changePermissionCode:s,PermissionModeEnum:r}}});const v=p("data-v-beeadad6");c("data-v-beeadad6");const k=h(" 当前拥有的code列表: "),j=h(" 点击切换按钮权限(用户id为2) "),A=h(" 点击切换按钮权限(用户id为1,默认) "),M=h("组件方式判断权限"),S=h("拥有code ['1000']权限可见"),w=h("拥有code ['2000']权限可见"),D=h("拥有code ['1000','2000']角色权限可见"),E=h("函数方式方式判断权限"),I=h(" 拥有code ['1000']权限可见 "),L=h(" 拥有code ['2000']权限可见 "),W=h(" 拥有code ['1000','2000']角色权限可见 "),B=h("指令方式方式判断权限(该方式不能动态修改权限.)"),G=h(" 拥有code ['1000']权限可见 "),H=h(" 拥有code ['2000']权限可见 "),T=h(" 拥有code ['1000','2000']角色权限可见 ");i();const Y=v(((e,s,a,o,r,t)=>{const d=l("Alert"),c=l("CurrentPermissionMode"),i=l("Divider"),p=l("a-button"),h=l("Authority"),x=l("PageWrapper"),b=n("auth");return m(),u(x,{contentBackground:"",title:"按钮权限控制",contentClass:"p-4"},{default:v((()=>[f(d,{message:"刷新后会还原","show-icon":""}),f(c),f("p",null,[k,f("a",null,_(e.permissionStore.getPermCodeListState),1)]),f(i),f(d,{class:"mt-4",type:"info",message:"点击后请查看按钮变化","show-icon":""}),f(i),f(p,{type:"primary",class:"mr-2",onClick:s[1]||(s[1]=s=>e.changePermissionCode("2"))},{default:v((()=>[j])),_:1}),f(p,{type:"primary",onClick:s[2]||(s[2]=s=>e.changePermissionCode("1"))},{default:v((()=>[A])),_:1}),f(i,null,{default:v((()=>[M])),_:1}),f(h,{value:"1000"},{default:v((()=>[f(p,{type:"primary",class:"mx-4"},{default:v((()=>[S])),_:1})])),_:1}),f(h,{value:"2000"},{default:v((()=>[f(p,{color:"success",class:"mx-4"},{default:v((()=>[w])),_:1})])),_:1}),f(h,{value:["1000","2000"]},{default:v((()=>[f(p,{color:"error",class:"mx-4"},{default:v((()=>[D])),_:1})])),_:1}),f(i,null,{default:v((()=>[E])),_:1}),e.hasPermission("1000")?(m(),u(p,{key:0,type:"primary",class:"mx-4"},{default:v((()=>[I])),_:1})):y("",!0),e.hasPermission("2000")?(m(),u(p,{key:1,color:"success",class:"mx-4"},{default:v((()=>[L])),_:1})):y("",!0),e.hasPermission(["1000","2000"])?(m(),u(p,{key:2,color:"error",class:"mx-4"},{default:v((()=>[W])),_:1})):y("",!0),f(i,null,{default:v((()=>[B])),_:1}),P(f(p,{type:"primary",class:"mx-4"},{default:v((()=>[G])),_:1},512),[[b,"1000"]]),P(f(p,{color:"success",class:"mx-4"},{default:v((()=>[H])),_:1},512),[[b,"2000"]]),P(f(p,{color:"error",class:"mx-4"},{default:v((()=>[T])),_:1},512),[[b,["1000","2000"]]])])),_:1})}));g.render=Y,g.__scopeId="data-v-beeadad6";export default g;