import{j as e,a0 as t,a1 as a,r as n,bu as s,bv as r,aI as o,be as l,ak as c,e as i,b5 as u,bw as p,b6 as d,u as f,aJ as h,bx as v,by as m,bz as C,aZ as g,s as b,d as x,a9 as y,h as S,o as w,i as _,l as k,aL as $,q as O,bA as E,az as A,aA as M,ab as j,ac as I,k as N,aE as R,bB as D,b2 as z,m as P}from"./index.14e14d13.js";import"./animation.ad53e138.js";import{u as T}from"./useScrollTo.0058c987.js";import{_ as L}from"./index.aaa85e33.js";import{b as U,u as B,d as K}from"./useHeaderSetting.dc054a54.js";var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var H=function(n,s){var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){F(e,t,a[t])}))}return e}({},n,s.attrs);return e(a,t(r,{icon:W}),null)};H.displayName="SearchOutlined",H.inheritAttrs=!1;const q=["keydown"],J={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Z={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},G={ctrl:e=>e.ctrlKey,shift:e=>e.shiftKey,alt:e=>e.altKey,meta:e=>e.metaKey};function Q(e,t){if(!e.key)return!1;if(p(t))return e.keyCode===t;const a=t.split(".");let n=0;for(const s of a){const t=G[s],a=Z[s],r=J[s];(t&&t(e)||(a&&d(a)?a.includes(e.key):a===e.key)||(r&&d(r)?r.includes(e.keyCode):r===e.keyCode)||e.key.toUpperCase()===s.toUpperCase())&&n++}return n===a.length}function V(e,t=r,a={}){const{events:n=q,target:s}=a;let f;function h(a){if(function(e){return c(e)?e:u(e)||p(e)?t=>Q(t,e):d(e)?t=>e.some((e=>Q(t,e))):e?()=>!0:()=>!1}(e)(a))return t(a)}o((()=>{if(f=function(e,t){if(!e)return t;let a;a=c(e)?e():i(e);return a}(s,window),f)for(const e of n)f.addEventListener(e,h)})),l((()=>{if(f)for(const e of n)f.removeEventListener(e,h)}))}var X,Y;function ee(e,t,a){const s=n([]),r=n(""),o=n(-1);let l=[];const{t:c}=f(),u=b(),[p]=h((function(e){null==e||e.stopPropagation();const t=e.target.value;if(r.value=t.trim(),!t)return void(s.value=[]);const a=function(e){const t=["",...[...e].map((e=>{return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(t=e)?`\\${t}`:t;var t})),""].join(".*");return new RegExp(t)}(i(r)),n=g(l,(e=>a.test(e.name)));s.value=d(n,a),o.value=0}),200);function d(e,t,a){const n=[];return e.forEach((e=>{const{name:s,path:r,icon:o,children:l}=e;t.test(s)&&!(null==l?void 0:l.length)&&n.push({name:(null==a?void 0:a.name)?`${a.name} > ${s}`:s,path:r,icon:o}),Array.isArray(l)&&l.length&&n.push(...d(l,t,e))})),n}function x(){const a=i(e);if(!a||!Array.isArray(a)||0===a.length||!i(t))return;const n=a[i(o)];if(!n)return;const s=i(t);if(!s)return;const r=n.offsetTop+n.offsetHeight,l=s.offsetHeight,{start:c}=T({el:s,duration:100,to:r-l});c()}function y(){if(!s.value.length)return;const e=i(s),t=i(o);if(0===e.length||t<0)return;const a=e[t];S(),u(a.path)}function S(){a("close")}return v((async()=>{const e=await U();l=m(e),C(l,(e=>{e.name=c(e.name)}))})),V(["enter","up","down","esc"],(e=>{switch(e.keyCode){case 38:s.value.length&&(o.value--,o.value<0&&(o.value=s.value.length-1),x());break;case 40:s.value.length&&(o.value++,o.value>s.value.length-1&&(o.value=0),x());break;case 13:y();break;case 27:S()}})),{handleSearch:p,searchResult:s,keyword:r,activeIndex:o,handleMouseenter:function(e){const t=e.target.dataset.index;o.value=Number(t)},handleEnter:y}}(Y=X||(X={}))[Y.UP=38]="UP",Y[Y.DOWN=40]="DOWN",Y[Y.ENTER=13]="ENTER",Y[Y.ESC=27]="ESC";var te=x({name:"AppSearchFooter",components:{},setup(){const{prefixCls:e}=y("app-search-footer"),{t:t}=f();return{prefixCls:e,t:t}}});const ae=$("data-v-1e9fc5c2")(((t,a,n,s,r,o)=>{const l=S("g-icon");return w(),_("div",{class:`${t.prefixCls}`},[e("span",{class:`${t.prefixCls}__item`},[e(l,{icon:"ant-design:enter-outlined"})],2),e("span",null,k(t.t("component.app.toSearch")),1),e("span",{class:`${t.prefixCls}__item`},[e(l,{icon:"bi:arrow-up"})],2),e("span",{class:`${t.prefixCls}__item`},[e(l,{icon:"bi:arrow-down"})],2),e("span",null,k(t.t("component.app.toNavigate")),1),e("span",{class:`${t.prefixCls}__item`},[e(l,{icon:"mdi:keyboard-esc"})],2),e("span",null,k(t.t("component.app.toClose")),1)],2)}));te.render=ae,te.__scopeId="data-v-1e9fc5c2";var ne=x({name:"AppSearchModal",components:{SearchOutlined:H,ClickOutSide:L,AppSearchFooter:te},emits:["close"],props:{visible:Boolean},setup(e,{emit:t}){const a=n(null),{prefixCls:r}=y("app-search-modal"),{t:o}=f(),[l,c]=function(){const e=n([]);return s((()=>{e.value=[]})),[e,t=>a=>{e.value[t]=a}]}(),{getIsMobile:u}=B(),{handleSearch:p,searchResult:d,keyword:h,activeIndex:v,handleEnter:m,handleMouseenter:C}=ee(l,a,t),g=O((()=>!h||0===i(d).length)),b=O((()=>[r,{[`${r}--mobile`]:i(u)}]));return{t:o,prefixCls:r,getClass:b,handleSearch:p,searchResult:d,activeIndex:v,getIsNotData:g,handleEnter:m,setRefs:c,scrollWrap:a,handleMouseenter:C,handleClose:()=>{t("close")}}}});const se=$("data-v-190e5183"),re=se(((t,a,n,s,r,o)=>{const l=S("SearchOutlined"),c=S("a-input"),i=S("g-icon"),u=S("AppSearchFooter"),p=S("ClickOutSide");return w(),_(D,{to:"body"},[e(R,{name:"zoom-fade",mode:"out-in"},{default:se((()=>[t.visible?(w(),_("div",{key:0,class:t.getClass,onClick:a[4]||(a[4]=E((()=>{}),["stop"]))},[e(p,{onClickOutside:t.handleClose},{default:se((()=>[e("div",{class:`${t.prefixCls}-content`},[e("div",{class:`${t.prefixCls}-input__wrapper`},[e(c,{class:`${t.prefixCls}-input`,placeholder:t.t("component.app.search"),"allow-clear":"",onChange:t.handleSearch},{prefix:se((()=>[e(l)])),_:1},8,["class","placeholder","onChange"]),e("span",{class:`${t.prefixCls}-cancel`,onClick:a[1]||(a[1]=(...e)=>t.handleClose&&t.handleClose(...e))},k(t.t("component.app.cancel")),3)],2),A(e("div",{class:`${t.prefixCls}-not-data`},k(t.t("component.app.searchNotData")),3),[[M,t.getIsNotData]]),A(e("ul",{class:`${t.prefixCls}-list`,ref:"scrollWrap"},[(w(!0),_(j,null,I(t.searchResult,((n,s)=>(w(),_("li",{ref:t.setRefs(s),key:n.path,"data-index":s,onMouseenter:a[2]||(a[2]=(...e)=>t.handleMouseenter&&t.handleMouseenter(...e)),onClick:a[3]||(a[3]=(...e)=>t.handleEnter&&t.handleEnter(...e)),class:[`${t.prefixCls}-list__item`,{[`${t.prefixCls}-list__item--active`]:t.activeIndex===s}]},[e("div",{class:`${t.prefixCls}-list__item-icon`},[e(i,{icon:n.icon||"mdi:form-select",size:20},null,8,["icon"])],2),e("div",{class:`${t.prefixCls}-list__item-text`},k(n.name),3),e("div",{class:`${t.prefixCls}-list__item-enter`},[e(i,{icon:"ant-design:enter-outlined",size:20})],2)],42,["data-index"])))),128))],2),[[M,!t.getIsNotData]]),e(u)],2)])),_:1},8,["onClickOutside"])],2)):N("",!0)])),_:1})])}));ne.render=re,ne.__scopeId="data-v-190e5183";var oe=x({name:"AppSearch",components:{AppSearchModal:ne,Tooltip:z,SearchOutlined:H},setup(){const e=n(!1),{prefixCls:t}=y("app-search"),{getShowSearch:a}=K(),{t:s}=f();return{t:s,prefixCls:t,showModal:e,getShowSearch:a,handleClose:()=>{e.value=!1},handleSearch:function(){e.value=!0}}}});const le=$("data-v-2672579c"),ce=le(((t,a,n,s,r,o)=>{const l=S("SearchOutlined"),c=S("Tooltip"),i=S("AppSearchModal");return t.getShowSearch?(w(),_("div",{key:0,class:t.prefixCls,onClick:a[1]||(a[1]=E(((...e)=>t.handleSearch&&t.handleSearch(...e)),["stop"]))},[e(c,null,{title:le((()=>[P(k(t.t("component.app.search")),1)])),default:le((()=>[e(l)])),_:1}),e(i,{onClose:t.handleClose,visible:t.showModal},null,8,["onClose","visible"])],2)):N("",!0)}));oe.render=ce,oe.__scopeId="data-v-2672579c";export default oe;