import{d as a,C as s,F as e,I as o,_ as l,A as n,R as t,a as i,r,u as c,b as u,L as d,c as m,e as g,f,g as p,t as w,h as _,i as y,o as h,j as v,k,l as b,m as x,w as L,n as D}from"./index.a0c9d414.js";import"./index.38c8e961.js";import"./index.61099513.js";import"./index.fdcc7c21.js";var P=a({components:{[s.name]:s,[e.name]:e,[e.Item.name]:e.Item,[o.name]:o,[o.Password.name]:o.Password,AButton:l,AppLocalePicker:n,[t.name]:t,[i.name]:i},setup(){const a=r(null),s=r(!1),e=m(),{locale:o}=g(),{notification:l}=_(),{t:n}=c(),t=u({account:"vben",password:"123456"}),i=u({loading:!1}),y=u({account:[{required:!0,message:n("sys.login.accountPlaceholder"),trigger:"blur"}],password:[{required:!0,message:n("sys.login.passwordPlaceholder"),trigger:"blur"}]});return{formRef:a,formData:t,formState:i,formRules:y,login:async function(){const s=f(a);if(s){i.loading=!0;try{const a=await s.validate(),e=await p.login(w({password:a.password,username:a.account}));e&&l.success({message:n("sys.login.loginSuccessTitle"),description:`${n("sys.login.loginSuccessDesc")}: ${e.realName}`,duration:3})}catch(e){}finally{i.loading=!1}}},autoLogin:s,title:e&&e.title,logo:d,t:n,showLocale:o.show}}});const j={class:"login"},z=k("div",{class:"login-mask"},null,-1),R={class:"login-form-wrap"},A={class:"login-form mx-6"},S={class:"login-form__content px-2 py-10"};P.render=function(a,s,e,o,l,n){const t=y("AppLocalePicker"),i=y("a-input"),r=y("a-form-item"),c=y("a-input-password"),u=y("a-checkbox"),d=y("a-col"),m=y("a-button"),g=y("a-row"),f=y("a-form");return h(),v("div",j,[z,k("div",R,[k("div",A,[a.showLocale?(h(),v(t,{key:0,class:"login-form__locale"})):b("",!0),k("div",S,[k("header",null,[k("img",{src:a.logo,class:"mr-4"},null,8,["src"]),k("h1",null,x(a.title),1)]),k(f,{class:"login-form__main",model:a.formData,rules:a.formRules,ref:"formRef"},{default:L((()=>[k(r,{name:"account"},{default:L((()=>[k(i,{size:"large",value:a.formData.account,"onUpdate:value":s[1]||(s[1]=s=>a.formData.account=s),placeholder:"username: vben"},null,8,["value"])])),_:1}),k(r,{name:"password"},{default:L((()=>[k(c,{size:"large",visibilityToggle:"",value:a.formData.password,"onUpdate:value":s[2]||(s[2]=s=>a.formData.password=s),placeholder:"password: 123456"},null,8,["value"])])),_:1}),k(g,null,{default:L((()=>[k(d,{span:12},{default:L((()=>[k(r,null,{default:L((()=>[k(u,{checked:a.autoLogin,"onUpdate:checked":s[3]||(s[3]=s=>a.autoLogin=s),size:"small"},{default:L((()=>[D(x(a.t("sys.login.autoLogin")),1)])),_:1},8,["checked"])])),_:1})])),_:1}),k(d,{span:12},{default:L((()=>[k(r,{style:{"text-align":"right"}},{default:L((()=>[k(m,{type:"link",size:"small"},{default:L((()=>[D(x(a.t("sys.login.forgetPassword")),1)])),_:1})])),_:1})])),_:1})])),_:1}),k(r,null,{default:L((()=>[k(m,{type:"primary",size:"large",class:"rounded-sm",block:!0,onClick:a.login,loading:a.formState.loading},{default:L((()=>[D(x(a.t("sys.login.loginButton")),1)])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model","rules"])])])])])};export default P;