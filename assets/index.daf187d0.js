import{an as e,d7 as t,I as r,a6 as n,a7 as o,a8 as a,r as i,a as u,aa as l,a5 as c,d as f,j as s,aR as p,H as v,C as d,d8 as b,P as y,N as g,z as O,bR as m,aZ as h,bY as w,d9 as j,da as P,B as C,F as x,G as _}from"./index.038a8ed4.js";import{R as M}from"./RightOutlined.101d5456.js";import{L as k}from"./LeftOutlined.cbfa8e1f.js";function S(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{left:t.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},z=Object.defineProperty({default:D},"__esModule",{value:!0}),E=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(o),a=u(z),i=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,t.attrs);return r.createVNode(i.default,r.mergeProps(n,{icon:a.default}),null)};f.displayName="RotateLeftOutlined",f.inheritAttrs=!1;var s=f;t.default=s})),A=a(r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=E)&&r.__esModule?r:{default:r};var o=n.default||n;t.default=o,e.exports=o}))),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},V=Object.defineProperty({default:N},"__esModule",{value:!0}),I=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(o),a=u(V),i=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,t.attrs);return r.createVNode(i.default,r.mergeProps(n,{icon:a.default}),null)};f.displayName="RotateRightOutlined",f.inheritAttrs=!1;var s=f;t.default=s})),G=a(r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=I)&&r.__esModule?r:{default:r};var o=n.default||n;t.default=o,e.exports=o}))),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},L=Object.defineProperty({default:H},"__esModule",{value:!0}),W=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(o),a=u(L),i=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,t.attrs);return r.createVNode(i.default,r.mergeProps(n,{icon:a.default}),null)};f.displayName="ZoomInOutlined",f.inheritAttrs=!1;var s=f;t.default=s})),R=a(r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=W)&&r.__esModule?r:{default:r};var o=n.default||n;t.default=o,e.exports=o}))),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},X=Object.defineProperty({default:Y},"__esModule",{value:!0}),B=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(o),a=u(X),i=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,t.attrs);return r.createVNode(i.default,r.mergeProps(n,{icon:a.default}),null)};f.displayName="ZoomOutOutlined",f.inheritAttrs=!1;var s=f;t.default=s})),T=a(r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=B)&&r.__esModule?r:{default:r};var o=n.default||n;t.default=o,e.exports=o})));function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e,t,r,n){var o=t+r,a=(r-n)/2;if(r>n){if(t>0)return F({},e,a);if(t<0&&o<n)return F({},e,-a)}else if(t<0||o>n)return F({},e,t<0?a:-a);return{}}function q(e,t,r,n){var o={width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},a=o.width,i=o.height,u=null;return e<=a&&t<=i?u={x:0,y:0}:(e>a||t>i)&&(u=Z(Z({},$("x",r,e,a)),$("y",n,t,i))),u}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K=Symbol("previewGroupContext"),Q=function(e){v(K,e)},ee=function(){return d(K,{isPreviewGroup:i(!1),previewUrls:u({}),setPreviewUrls:function(){},current:i(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null})},te=f({name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,t){var r=t.slots,n=u({}),o=i(),a=i(!1),l=i(null),c=function(e){null==e||e.stopPropagation(),a.value=!1,l.value=null};return Q({isPreviewGroup:i(!0),previewUrls:n,setPreviewUrls:function(e){J(n,e)},current:o,setCurrent:function(e){o.value=e},setShowPreview:function(e){a.value=e},setMousePosition:function(e){l.value=e},registerImage:function(e,t){return n[e]=t,function(){delete n[e]}}}),function(){return s(p,null,[r.default&&r.default(),s(fe,{"ria-hidden":!a.value,visible:a.value,prefixCls:e.previewPrefixCls,onClose:c,mousePosition:l.value,src:n[o.value]},null)])}}});function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var le=b(),ce={x:0,y:0},fe=f({name:"Preview",inheritAttrs:!1,props:ue({src:y.string,alt:y.string},le),emits:["close","afterClose"],setup:function(e,t){var r,n,o,a,f=t.emit,p=t.attrs,v=i(1),d=i(0),b=ae((r=ce,n=i(null),o=u(U({},r)),a=i([]),l((function(){n.value&&c.cancel(n.value)})),[o,function(e){null===n.value&&(a.value=[],n.value=c((function(){var e;a.value.forEach((function(t){e=U(U({},e),t)})),U(o,e),n.value=null}))),a.value.push(e)}]),2),y=b[0],C=b[1],x=function(){return f("close")},_=i(),D=u({originX:0,originY:0,deltaX:0,deltaY:0}),z=i(!1),E=ee(),N=E.previewUrls,V=E.current,I=E.isPreviewGroup,H=E.setCurrent,L=g((function(){return Object.keys(N).length})),W=g((function(){return Object.keys(N)})),Y=g((function(){return W.value.indexOf(String(V.value))})),X=g((function(){return I.value?N[V.value]:e.src})),B=g((function(){return I.value&&L.value>1})),Z=function(){v.value=1,d.value=0,C(ce)},F=function(e){e.preventDefault(),e.stopPropagation(),Y.value>0&&H(W.value[String(Y.value-1)])},$=function(e){e.preventDefault(),e.stopPropagation(),Y.value<L.value-1&&H(W.value[String(Y.value+1)])},J=O(oe({},"".concat(e.prefixCls,"-moving"),z.value)),K="".concat(e.prefixCls,"-operations-operation"),Q="".concat(e.prefixCls,"-operations-icon"),te=[{icon:m,onClick:x,type:"close"},{icon:R,onClick:function(){v.value++,C(ce)},type:"zoomIn"},{icon:T,onClick:function(){v.value>1&&v.value--,C(ce)},type:"zoomOut",disabled:g((function(){return 1===v.value}))},{icon:G,onClick:function(){d.value+=90},type:"rotateRight"},{icon:A,onClick:function(){d.value-=90},type:"rotateLeft"}],re=function(){if(e.visible&&z.value){var t=_.value.offsetWidth*v.value,r=_.value.offsetHeight*v.value,n=S(_.value),o=n.left,a=n.top,i=d.value%180!=0;z.value=!1;var u=q(i?r:t,i?t:r,o,a);u&&C(ue({},u))}},ie=function(e){e.preventDefault(),e.stopPropagation(),D.deltaX=e.pageX-y.x,D.deltaY=e.pageY-y.y,D.originX=y.x,D.originY=y.y,z.value=!0},le=function(t){e.visible&&z.value&&C({x:t.pageX-D.deltaX,y:t.pageY-D.deltaY})},fe=function(){};return l((function(){h([function(){return e.visible},z],(function(){var e,t;fe();var r=P(window,"mouseup",re,!1),n=P(window,"mousemove",le,!1);try{window.top!==window.self&&(e=P(window.top,"mouseup",re,!1),t=P(window.top,"mousemove",le,!1))}catch(o){}fe=function(){r.remove(),n.remove(),e&&e.remove(),t&&t.remove()}}),{flush:"post",immediate:!0})})),w((function(){fe()})),function(){return s(j,ne(ne({},p),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:e.prefixCls,onClose:x,afterClose:Z,visible:e.visible,wrapClassName:J}),{default:function(){return[s("ul",{class:"".concat(e.prefixCls,"-operations")},[te.map((function(t){var r=t.icon,n=t.onClick,o=t.type,a=t.disabled;return s("li",{class:O(K,oe({},"".concat(e.prefixCls,"-operations-operation-disabled"),a&&(null==a?void 0:a.value))),onClick:n,key:o},[s(r,{class:Q},null)])}))]),s("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(y.x,"px, ").concat(y.y,"px, 0)")}},[s("img",{onMousedown:ie,ref:_,class:"".concat(e.prefixCls,"-img"),src:X.value,alt:e.alt,style:{transform:"scale3d(".concat(v.value,", ").concat(v.value,", 1) rotate(").concat(d.value,"deg)")}},null)]),B.value&&s("div",{class:O("".concat(e.prefixCls,"-switch-left"),oe({},"".concat(e.prefixCls,"-switch-left-disabled"),Y.value<=0)),onClick:F},[s(k,null,null)]),B.value&&s("div",{class:O("".concat(e.prefixCls,"-switch-right"),oe({},"".concat(e.prefixCls,"-switch-right-disabled"),Y.value>=L.value-1)),onClick:$},[s(M,null,null)])]}})}}});function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ye={src:y.string,wrapperClassName:y.string,wrapperStyle:y.style,prefixCls:y.string,previewPrefixCls:y.string,placeholder:y.VNodeChild,fallback:y.string,preview:y.oneOfType([y.looseBool,y.shape({visible:y.bool,onVisibleChange:y.func,getContainer:y.oneOf([y.func,y.bool])})]).def(!0)},ge=0,Oe=f({name:"Image",mixins:[C],inheritAttrs:!1,props:ye,emits:["click"],setup:function(r,n){var o=n.attrs,a=n.slots,u=n.emit,c=g((function(){return r.prefixCls})),f=g((function(){return"".concat(c.value,"-preview")})),v=g((function(){var e={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return"object"===de(r.preview)?function(e,t){var r=be({},e);return Object.keys(t).forEach((function(n){void 0===e[n]&&(r[n]=t[n])})),r}(r.preview,e):e})),d=g((function(){return r.placeholder&&!0!==r.placeholder||a.placeholder})),b=g((function(){return v.value.visible})),y=g((function(){return v.value.onVisibleChange})),m=g((function(){return v.value.getContainer})),w=g((function(){return void 0!==b.value})),j=i(!!b.value);h(b,(function(){j.value=!!b.value})),h(j,(function(e,t){y.value(e,t)}));var P=i(d.value?"loading":"normal");h((function(){return r.src}),(function(){P.value=d.value?"loading":"normal"}));var C=i(null),_=g((function(){return"error"===P.value})),M=ee(),k=M.isPreviewGroup,D=M.setCurrent,z=M.setShowPreview,E=M.setMousePosition,A=M.registerImage,N=i(ge++),V=g((function(){return r.preview&&!_.value})),I=function(){P.value="normal"},G=function(){P.value="error"},H=function(e){if(!w.value){var t=S(e.target),r=t.left,n=t.top;k.value?(D(N.value),E({x:r,y:n})):C.value={x:r,y:n}}k.value?z(!0):j.value=!0,u("click",e)},L=function(){j.value=!1,w.value||(C.value=null)},W=i(null);h((function(){return W}),(function(){"loading"===P.value&&W.value.complete&&(W.value.naturalWidth||W.value.naturalHeight)&&I()}));var R=function(){};l((function(){h([function(){return r.src},V],(function(){if(R(),!k.value)return function(){};R=A(N.value,r.src),V.value||R()}),{flush:"post",immediate:!0})}));var Y=function(r){return"number"==typeof(n=r)||e(n)&&"[object Number]"==t(n)?r+"px":r;var n};return function(){var e,t=r.prefixCls,n=r.wrapperClassName,i=r.fallback,l=r.src,c=r.preview,v=r.placeholder,d=r.wrapperStyle,b=o.width,y=o.height,g=o.crossorigin,h=o.decoding,w=o.alt,M=o.sizes,S=o.srcset,D=o.usemap,z=o.class,E=o.style,A=O(t,n,ve({},"".concat(t,"-error"),_.value)),N=_.value&&i?i:l,R=a.previewMask&&a.previewMask(),X={crossorigin:g,decoding:h,alt:w,sizes:M,srcset:S,usemap:D,class:O("".concat(t,"-img"),ve({},"".concat(t,"-img-placeholder"),!0===v),z),style:be({height:y},E)};return s(p,null,[s("div",{class:A,onClick:c&&!_.value?H:function(e){u("click",e)},style:be({width:Y(b),height:Y(y)},d)},[s("img",pe(pe(pe({},X),_.value&&i?{src:i}:{onLoad:I,onError:G,src:l}),{},{ref:W}),null),"loading"===P.value&&s("div",{"aria-hidden":"true",class:"".concat(t,"-placeholder")},[v||a.placeholder&&a.placeholder()]),R&&V.value&&s("div",{class:"".concat(t,"-mask")},(e=R,"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!x(e)?R:{default:function(){return[R]}}))]),!k.value&&V.value&&s(fe,{"aria-hidden":!j.value,visible:j.value,prefixCls:f.value,onClose:L,mousePosition:C.value,src:N,alt:w,getContainer:m},null)])}}});function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Oe.PreviewGroup=te;var Pe=f({name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:y.string},setup:function(e,t){var r=t.attrs,n=t.slots,o=d("configProvider",_);return function(){var t=(0,o.getPrefixCls)("image-preview",e.previewPrefixCls);return s(te,he({previewPrefixCls:t},je(je({},r),e)),he({},n))}}});function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Me=f({name:"AImage",inheritAttrs:!1,props:ye,setup:function(e,t){var r=t.slots,n=t.attrs,o=d("configProvider",_);return function(){var t=(0,o.getPrefixCls)("image",e.prefixCls);return s(Oe,_e(_e(_e({},n),e),{prefixCls:t}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))}}});Me.PreviewGroup=Pe,Me.install=function(e){return e.component(Me.name,Me),e.component(Me.PreviewGroup.name,Me.PreviewGroup),e};export{Me as I};