var e=Object.assign;import{I as t,a6 as n,a7 as r,a8 as o,d as a,a0 as c,P as i,C as l,G as s,j as u,$ as d,W as f,y as p,R as y,E as h,z as b,B as O,c3 as v,a1 as m,aH as g,aI as j,e as K,Q as k,cq as w,a as x,r as P,N as _,cA as S,a_ as M,b1 as D,aa as E,cW as N,m as A}from"./index.9a6e95d8.js";import{e as C}from"./index.78d832da.js";import"./RightOutlined.a7006a51.js";import"./types.3a3ca354.js";import"./toInteger.858f2e82.js";import"./isEqual.b9304b29.js";import{T}from"./index.a42a59eb.js";import"./index.c729d376.js";import{C as B}from"./CaretDownFilled.f2b1cd8f.js";import{F as $,a as I,n as H,d as L}from"./util.61e89dd9.js";import"./index.8d91dadc.js";import{u as V}from"./useExpose.9ff1c88c.js";import{u as z}from"./useContextMenu.1387a1c3.js";var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},U=Object.defineProperty({default:F},"__esModule",{value:!0}),R=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(r),a=i(U),c=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="MinusSquareOutlined",u.inheritAttrs=!1;var d=u;t.default=d})),W=o(t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=R)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o}))),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},G=Object.defineProperty({default:q},"__esModule",{value:!0}),Q=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(r),a=i(G),c=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="PlusSquareOutlined",u.inheritAttrs=!1;var d=u;t.default=d})),J=o(t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=Q)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o})));function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ne=T.TreeNode;function re(){return{showLine:i.looseBool,multiple:i.looseBool,autoExpandParent:i.looseBool,checkStrictly:i.looseBool,checkable:i.looseBool,disabled:i.looseBool,defaultExpandAll:i.looseBool,defaultExpandParent:i.looseBool,defaultExpandedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),expandedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),checkedKeys:i.oneOfType([i.arrayOf(i.oneOfType([i.string,i.number])),i.shape({checked:i.arrayOf(i.oneOfType([i.string,i.number])),halfChecked:i.arrayOf(i.oneOfType([i.string,i.number]))}).loose]),defaultCheckedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),selectedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),defaultSelectedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),selectable:i.looseBool,filterAntTreeNode:i.func,loadData:i.func,loadedKeys:i.arrayOf(i.oneOfType([i.string,i.number])),draggable:i.looseBool,showIcon:i.looseBool,icon:i.func,switcherIcon:i.any,prefixCls:i.string,filterTreeNode:i.func,openAnimation:i.any,treeData:{type:Array},replaceFields:i.object,blockNode:i.looseBool,onExpand:i.func,onCheck:i.func,onSelect:i.func,onClick:i.func,onDoubleclick:i.func,onDblclick:i.func,"onUpdate:selectedKeys":i.func,"onUpdate:checkedKeys":i.func,"onUpdate:expandedKeys":i.func}}var oe,ae,ce=a({name:"ATree",inheritAttrs:!1,props:c(re(),{checkable:!1,showIcon:!1,openAnimation:ee(ee({},C),{appear:null}),blockNode:!1}),setup:function(){return{tree:null,configProvider:l("configProvider",s)}},TreeNode:ne,methods:{renderSwitcherIcon:function(e,t,n){var r=n.isLeaf,o=n.loading,a=n.expanded,c=this.$props.showLine;if(o)return u(d,{class:"".concat(e,"-switcher-loading-icon")},null);if(r)return c?u($,{class:"".concat(e,"-switcher-line-icon")},null):null;var i="".concat(e,"-switcher-icon");return t?f(t,{class:i}):c?u(a?W:J,{class:"".concat(e,"-switcher-line-icon")},null):u(B,{class:i},null)},updateTreeData:function(e){var t=this,n=this.$slots,r=ee(ee({},{children:"children",title:"title",key:"key"}),this.$props.replaceFields);return e.map((function(e){var o=e[r.key],a=e[r.children],c=e.slots,i=void 0===c?{}:c,l=e.class,s=e.style,u=te(e,["slots","class","style"]),d=ee(ee({},u),{icon:n[i.icon]||u.icon,switcherIcon:n[i.switcherIcon]||u.switcherIcon,title:n[i.title]||n.title||u[r.title],dataRef:e,key:o,class:l,style:s});return a?ee(ee({},d),{children:t.updateTreeData(a)}):d}))},setTreeRef:function(e){this.tree=e},handleCheck:function(e,t){this.$emit("update:checkedKeys",e),this.$emit("check",e,t)},handleExpand:function(e,t){this.$emit("update:expandedKeys",e),this.$emit("expand",e,t)},handleSelect:function(e,t){this.$emit("update:selectedKeys",e),this.$emit("select",e,t)}},render:function(){var e,t=this,n=p(this),r=n.prefixCls,o=n.showIcon,a=n.treeNodes,c=n.blockNode,i=(0,this.configProvider.getPrefixCls)("tree",r),l=y(this,"switcherIcon"),s=n.checkable,d=n.treeData||a;d&&(d=this.updateTreeData(d));var f=this.$attrs,O=f.class,v=te(f,["class"]),m=ee(ee(ee(ee({},n),{prefixCls:i,checkable:s?u("span",{class:"".concat(i,"-checkbox-inner")},null):s,children:h(this),switcherIcon:function(e){return t.renderSwitcherIcon(i,l,e)},ref:this.setTreeRef}),v),{class:b(O,(e={},Z(e,"".concat(i,"-icon-hide"),!o),Z(e,"".concat(i,"-block-node"),c),e)),onCheck:this.handleCheck,onExpand:this.handleExpand,onSelect:this.handleSelect});return d&&(m.treeData=d),u(T,Y(Y({},m),{},{__propsSymbol__:[]}),null)}}),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},le=Object.defineProperty({default:ie},"__esModule",{value:!0}),se=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(r),a=i(le),c=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="FolderOpenOutlined",u.inheritAttrs=!1;var d=u;t.default=d})),ue=o(t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=se)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o}))),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},fe=Object.defineProperty({default:de},"__esModule",{value:!0}),pe=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(r),a=i(fe),c=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},e,t.attrs);return o.createVNode(c.default,o.mergeProps(n,{icon:a.default}),null)};u.displayName="FolderOutlined",u.inheritAttrs=!1;var d=u;t.default=d})),ye=o(t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=pe)&&n.__esModule?n:{default:n};var o=r.default||r;t.default=o,e.exports=o})));function he(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){(H(e)||[]).forEach((function(e){var n=e.key,r=h(e);!1!==t(n,e)&&Oe(r,t)}))}function ve(e,t,n,r){var o=[],a=oe.None;if(n&&n===r)return[n];if(!n||!r)return[];return Oe(e,(function(e){if(a===oe.End)return!1;if(function(e){return e===n||e===r}(e)){if(o.push(e),a===oe.None)a=oe.Start;else if(a===oe.Start)return a=oe.End,!1}else a===oe.Start&&o.push(e);return-1!==t.indexOf(e)})),o}function me(e,t){var n=he(t),r=[];return Oe(e,(function(e,t){var o=n.indexOf(e);return-1!==o&&(r.push(t),n.splice(o,1)),!!n.length})),r}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=t(e||[]).forEach((function(e){n.push(e[a]),e[i]&&(n=[].concat(he(n),he(ge(e[i],t))))})),o=r.key,a=void 0===o?"key":o,c=r.children,i=void 0===c?"children":c;return n}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(ae=oe||(oe={}))[ae.None=0]="None",ae[ae.Start=1]="Start",ae[ae.End=2]="End";var Pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function _e(e){var t=e.isLeaf,n=e.expanded;return u(t?$:n?ue:ye,null,null)}var Se=a({name:"ADirectoryTree",mixins:[O],inheritAttrs:!1,props:c(xe(xe({},re()),{expandAction:i.oneOf([!1,"click","doubleclick","dblclick"])}),{showIcon:!0,expandAction:"click"}),setup:function(){return{children:null,onDebounceExpand:null,tree:null,lastSelectedKey:"",cachedSelectedKeys:[],configProvider:l("configProvider",s)}},data:function(){var e=p(this),t=e.defaultExpandAll,n=e.defaultExpandParent,r=e.expandedKeys,o=e.defaultExpandedKeys,a=h(this),c=I(a).keyEntities,i={};return i._selectedKeys=e.selectedKeys||e.defaultSelectedKeys||[],t?e.treeData?i._expandedKeys=ge(e.treeData,e.replaceFields):i._expandedKeys=function(e){return he(I(e).keyEntities.keys())}(a):i._expandedKeys=n?L(r||o,c):r||o,xe({_selectedKeys:[],_expandedKeys:[]},i)},watch:{expandedKeys:function(e){this.setState({_expandedKeys:e})},selectedKeys:function(e){this.setState({_selectedKeys:e})}},created:function(){this.onDebounceExpand=v(this.expandFolderNode,200,{leading:!0})},methods:{handleExpand:function(e,t){this.setUncontrolledState({_expandedKeys:e}),this.$emit("update:expandedKeys",e),this.$emit("expand",e,t)},handleClick:function(e,t){"click"===this.$props.expandAction&&this.onDebounceExpand(e,t),this.$emit("click",e,t)},handleDoubleClick:function(e,t){var n=this.$props.expandAction;"dblclick"!==n&&"doubleclick"!==n||this.onDebounceExpand(e,t),this.$emit("doubleclick",e,t),this.$emit("dblclick",e,t)},hanldeSelect:function(e,t){var n,r=this.$props.multiple,o=this.children||[],a=this.$data._expandedKeys,c=void 0===a?[]:a,i=t.node,l=t.nativeEvent,s=i.eventKey,u=void 0===s?"":s,d={},f=xe(xe({},t),{selected:!0}),p=l.ctrlKey||l.metaKey,y=l.shiftKey;r&&p?(n=e,this.lastSelectedKey=u,this.cachedSelectedKeys=n,f.selectedNodes=me(o,n)):r&&y?(n=Array.from(new Set([].concat(ke(this.cachedSelectedKeys||[]),ke(ve(o,c,u,this.lastSelectedKey))))),f.selectedNodes=me(o,n)):(n=[u],this.lastSelectedKey=u,this.cachedSelectedKeys=n,f.selectedNodes=[t.node]),d._selectedKeys=n,this.$emit("update:selectedKeys",n),this.$emit("select",n,f),this.setUncontrolledState(d)},setTreeRef:function(e){this.tree=e},expandFolderNode:function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||this.tree.tree&&this.tree.tree.onNodeExpand(e,t)},setUncontrolledState:function(e){var t=m(e,Object.keys(p(this)).map((function(e){return"_".concat(e)})));Object.keys(t).length&&this.setState(t)},handleCheck:function(e,t){this.$emit("update:checkedKeys",e),this.$emit("check",e,t)}},render:function(){var e=this;this.children=h(this);var t=p(this),n=t.prefixCls,r=Pe(t,["prefixCls"]),o=(0,this.configProvider.getPrefixCls)("tree",n),a=this.$data,c=a._expandedKeys,i=a._selectedKeys,l=this.$attrs,s=l.class,d=Pe(l,["class"]),f=b("".concat(o,"-directory"),s),O=xe(xe(xe({icon:_e},d),m(r,["onUpdate:selectedKeys","onUpdate:checkedKeys","onUpdate:expandedKeys"])),{prefixCls:o,expandedKeys:c,selectedKeys:i,switcherIcon:y(this,"switcherIcon"),ref:this.setTreeRef,class:f,onSelect:this.hanldeSelect,onClick:this.handleClick,onDblclick:this.handleDoubleClick,onExpand:this.handleExpand,onCheck:this.handleCheck});return u(ce,O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({default:function(){return[e.children]}},m(this.$slots,["default"])))}});ce.TreeNode.name="ATreeNode",ce.DirectoryTree=Se,ce.install=function(e){return e.component(ce.name,ce),e.component(ce.TreeNode.name,ce.TreeNode),e.component(Se.name,Se),e};var Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){De(e,t,n[t])}))}return e}({},e,t.attrs);return u(j,g(n,{icon:Me}),null)};Ee.displayName="DownOutlined",Ee.inheritAttrs=!1;var Ne=a({name:"BasicTree",props:{replaceFields:{type:Object},treeData:{type:Array},actionList:{type:Array,default:()=>[]},expandedKeys:{type:Array,default:()=>[]},selectedKeys:{type:Array,default:()=>[]},checkedKeys:{type:Array,default:()=>[]},beforeRightClick:{type:Function,default:null},rightMenuList:{type:Array}},emits:["update:expandedKeys","update:selectedKeys","update:value","get"],setup(t,{attrs:n,slots:r,emit:o}){const a=x({expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],checkedKeys:t.checkedKeys||[]}),c=P([]),[i]=z(),l=_((()=>{const{replaceFields:n}=t;return e({children:"children",title:"title",key:"key"},n)})),s=_((()=>{const{actionList:e}=t;return{width:`calc(100% - ${18*e.length}px)`}})),d=_((()=>{let r=e(e(e({blockNode:!0},n),t),{expandedKeys:a.expandedKeys,selectedKeys:a.selectedKeys,checkedKeys:a.checkedKeys,replaceFields:K(l),"onUpdate:expandedKeys":e=>{a.expandedKeys=e,o("update:expandedKeys",e)},"onUpdate:selectedKeys":e=>{a.selectedKeys=e,o("update:selectedKeys",e)},onCheck:e=>{a.checkedKeys=e,o("update:value",e)},onRightClick:m});return r=S(r,"treeData"),r})),f=_((()=>K(c))),{deleteNodeByKey:p,insertNodeByKey:y,filterByLevel:h,updateNodeByKey:b}=function(t,n){return{deleteNodeByKey:function e(r,o){if(!r)return;const a=o||K(t),{key:c,children:i}=K(n);if(i&&c)for(let t=0;t<a.length;t++){const n=a[t],o=n[i];if(n[c]===r){a.splice(t,1);break}o&&o.length&&e(r,n[i])}},insertNodeByKey:function({parentKey:e=null,node:r,push:o="push"}){const a=k(K(t));if(!e)return a[o](r),void(t.value=a);const{key:c,children:i}=K(n);i&&c&&(w(a,(t=>{t[c]===e&&(t[i]=t[i]||[],t[i][o](r))})),t.value=a)},filterByLevel:function e(r=1,o,a=1){if(!r)return[];const c=[],i=o||K(t)||[];for(let t=0;t<i.length;t++){const o=i[t],{key:l,children:s}=K(n),u=l?o[l]:"",d=s?o[s]:[];c.push(u),d&&d.length&&a<r&&(a+=1,c.push(...e(r,d,a)))}return c},updateNodeByKey:function r(o,a,c){if(!o)return;const i=c||K(t),{key:l,children:s}=K(n);if(s&&l)for(let t=0;t<i.length;t++){const n=i[t],c=n[s];if(n[l]===o){i[t]=e(e({},i[t]),a);break}c&&c.length&&r(o,a,n[s])}}}}(c,l);function O(e){const{actionList:n}=t;if(n&&0!==n.length)return n.map(((t,n)=>u("span",{key:n,class:"basic-tree__action"},[t.render(e)])))}function v({data:e}){return e?e.map((e=>{const{title:t,key:n,children:r}=K(l),o=S(e,"title"),a=e;return u(ce.TreeNode,g(o,{key:null==a?void 0:a[n]}),{title:()=>u("span",{class:"basic-tree-title"},[u("span",{class:"basic-tree__content",style:K(s)},[t&&a[t]]),u("span",{class:"basic-tree__actions"},[A(" "),O(e)])]),default:()=>v({data:r?a[r]:[]})})})):null}async function m({event:e,node:n}){const{rightMenuList:r=[],beforeRightClick:o}=t;let a=[];a=o&&M(o)?await o(n):r,a.length&&i({event:e,items:a})}D((()=>{c.value=t.treeData,a.expandedKeys=t.expandedKeys,a.selectedKeys=t.selectedKeys,a.checkedKeys=t.checkedKeys}));const j={setExpandedKeys:function(e){a.expandedKeys=e},getExpandedKeys:function(){return a.expandedKeys},setSelectedKeys:function(e){a.selectedKeys=e},getSelectedKeys:function(){return a.selectedKeys},setCheckedKeys:function(e){a.checkedKeys=e},getCheckedKeys:function(){return a.checkedKeys},insertNodeByKey:y,deleteNodeByKey:p,updateNodeByKey:b,filterByLevel:e=>{a.expandedKeys=h(e)}};return V(j),E((()=>{o("get",j)})),()=>u(ce,g(K(d),{class:"basic-tree"}),e({switcherIcon:()=>u(Ee,null,null),default:()=>v({data:K(f)})},N(r)))}});export default Ne;