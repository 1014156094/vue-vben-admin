import{d as e,bQ as s,bz as a,ao as o,aW as r,cn as t,co as d,br as i,bs as c,i as n,aN as l,o as m,j as u,aJ as p,k as f,m as _,l as x,ak as y,n as P}from"./index.a0c9d414.js";import"./index.a45b2b74.js";import"./index.f4c035d6.js";import b from"./CurrentPermissionMode.da092bbf.js";import{_ as h}from"./index.dcd1fa5c.js";import{_ as j}from"./index.5b50fd31.js";import"./index.b0611c31.js";import"./index.673364b0.js";import"./index.8d91dadc.js";import"./index.9fbd6c39.js";import"./usePageContext.21816986.js";var C=e({components:{Alert:s,PageWrapper:j,CurrentPermissionMode:b,Divider:a,Authority:h},setup(){const{hasPermission:e}=t();async function s(e){const s=await d({userId:e});o.commitPermCodeListState(s)}return s("1"),{hasPermission:e,permissionStore:o,changePermissionCode:s,PermissionModeEnum:r}}});const g=p("data-v-beeadad6");i("data-v-beeadad6");const v=P(" 当前拥有的code列表: "),k=P(" 点击切换按钮权限(用户id为2) "),A=P(" 点击切换按钮权限(用户id为1,默认) "),M=P("组件方式判断权限"),S=P("拥有code ['1000']权限可见"),w=P("拥有code ['2000']权限可见"),W=P("拥有code ['1000','2000']角色权限可见"),D=P("函数方式方式判断权限"),I=P(" 拥有code ['1000']权限可见 "),L=P(" 拥有code ['2000']权限可见 "),z=P(" 拥有code ['1000','2000']角色权限可见 "),B=P("指令方式方式判断权限(该方式不能动态修改权限.)"),E=P(" 拥有code ['1000']权限可见 "),J=P(" 拥有code ['2000']权限可见 "),N=P(" 拥有code ['1000','2000']角色权限可见 ");c();const Q=g(((e,s,a,o,r,t)=>{const d=n("Alert"),i=n("CurrentPermissionMode"),c=n("Divider"),p=n("a-button"),P=n("Authority"),b=n("PageWrapper"),h=l("auth");return m(),u(b,{contentBackground:"",title:"按钮权限控制",contentClass:"p-4"},{default:g((()=>[f(d,{message:"刷新后会还原","show-icon":""}),f(i),f("p",null,[v,f("a",null,_(e.permissionStore.getPermCodeListState),1)]),f(c),f(d,{class:"mt-4",type:"info",message:"点击后请查看按钮变化","show-icon":""}),f(c),f(p,{type:"primary",class:"mr-2",onClick:s[1]||(s[1]=s=>e.changePermissionCode("2"))},{default:g((()=>[k])),_:1}),f(p,{type:"primary",onClick:s[2]||(s[2]=s=>e.changePermissionCode("1"))},{default:g((()=>[A])),_:1}),f(c,null,{default:g((()=>[M])),_:1}),f(P,{value:"1000"},{default:g((()=>[f(p,{type:"primary",class:"mx-4"},{default:g((()=>[S])),_:1})])),_:1}),f(P,{value:"2000"},{default:g((()=>[f(p,{color:"success",class:"mx-4"},{default:g((()=>[w])),_:1})])),_:1}),f(P,{value:["1000","2000"]},{default:g((()=>[f(p,{color:"error",class:"mx-4"},{default:g((()=>[W])),_:1})])),_:1}),f(c,null,{default:g((()=>[D])),_:1}),e.hasPermission("1000")?(m(),u(p,{key:0,type:"primary",class:"mx-4"},{default:g((()=>[I])),_:1})):x("",!0),e.hasPermission("2000")?(m(),u(p,{key:1,color:"success",class:"mx-4"},{default:g((()=>[L])),_:1})):x("",!0),e.hasPermission(["1000","2000"])?(m(),u(p,{key:2,color:"error",class:"mx-4"},{default:g((()=>[z])),_:1})):x("",!0),f(c,null,{default:g((()=>[B])),_:1}),y(f(p,{type:"primary",class:"mx-4"},{default:g((()=>[E])),_:1},512),[[h,"1000"]]),y(f(p,{color:"success",class:"mx-4"},{default:g((()=>[J])),_:1},512),[[h,"2000"]]),y(f(p,{color:"error",class:"mx-4"},{default:g((()=>[N])),_:1},512),[[h,["1000","2000"]]])])),_:1})}));C.render=Q,C.__scopeId="data-v-beeadad6";export default C;