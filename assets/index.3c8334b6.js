import{aG as n,d as h,a as _,q as k,a0 as w,aW as N,e as p,cn as q,bd as v,o as C,i as j,l as B}from"./index.de7a3c72.js";import{r as g,c as x}from"./animation.29409132.js";const E={startVal:n.number.def(0),endVal:n.number.def(2020),duration:n.number.def(1300),autoplay:n.bool.def(!0),decimals:{type:Number,required:!1,default:0,validator(t){return t>=0}},decimal:n.string.def("."),separator:n.string.def(","),prefix:n.string.def(""),suffix:n.string.def(""),useEasing:n.bool.def(!0),easingFn:{type:Function,default(t,s,a,i){return a*(-Math.pow(2,-10*t/i)+1)*1024/1023+s}}};var D=h({name:"CountTo",props:E,emits:["mounted","callback"],setup(t,{emit:s}){const a=_({localStartVal:t.startVal,displayValue:V(t.startVal),printVal:null,paused:!1,localDuration:t.duration,startTime:null,timestamp:null,remaining:null,rAF:null});k(()=>{t.autoplay&&u(),s("mounted")});const i=w(()=>t.startVal>t.endVal);N([()=>t.startVal,()=>t.endVal],()=>{t.autoplay&&u()});function u(){const{startVal:e,duration:o}=t;a.localStartVal=e,a.startTime=null,a.localDuration=o,a.paused=!1,a.rAF=g(c)}function y(){a.paused?(b(),a.paused=!1):(F(),a.paused=!0)}function F(){x(a.rAF)}function b(){a.startTime=null,a.localDuration=+a.remaining,a.localStartVal=+a.printVal,g(c)}function T(){a.startTime=null,x(a.rAF),a.displayValue=V(t.startVal)}function c(e){const{useEasing:o,easingFn:d,endVal:l}=t;a.startTime||(a.startTime=e),a.timestamp=e;const r=e-a.startTime;a.remaining=a.localDuration-r,o?p(i)?a.printVal=a.localStartVal-d(r,0,a.localStartVal-l,a.localDuration):a.printVal=d(r,a.localStartVal,l-a.localStartVal,a.localDuration):p(i)?a.printVal=a.localStartVal-(a.localStartVal-l)*(r/a.localDuration):a.printVal=a.localStartVal+(l-a.localStartVal)*(r/a.localDuration),p(i)?a.printVal=a.printVal<l?l:a.printVal:a.printVal=a.printVal>l?l:a.printVal,a.displayValue=V(a.printVal),r<a.localDuration?a.rAF=g(c):s("callback")}function V(e){const{decimals:o,decimal:d,separator:l,suffix:r,prefix:A}=t;e=Number(e).toFixed(o),e+="";const m=e.split(".");let f=m[0];const $=m.length>1?d+m[1]:"",S=/(\d+)(\d{3})/;if(l&&!q(l))for(;S.test(f);)f=f.replace(S,"$1"+l+"$2");return A+f+$+r}return{count:c,reset:T,resume:b,start:u,pauseResume:y,displayValue:v(a,"displayValue")}}});function M(t,s,a,i,u,y){return C(),j("span",null,B(t.displayValue),1)}D.render=M;export default D;
